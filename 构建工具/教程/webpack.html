<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.8" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.31" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://mister-hope.github.io/Blog/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/%E6%95%99%E7%A8%8B/webpack.html"><meta property="og:site_name" content="å–åèŠ±å…‰é’±"><meta property="og:title" content="webpack"><meta property="og:description" content="webpack webpack:å‰ç«¯æ‰“åŒ…å·¥å…· 1.webpackåŸºæœ¬ä½¿ç”¨ åˆå§‹åŒ–é¡¹ç›®éœ€npm init åœ¨é¡¹ç›®ä¸­å®‰è£…å’Œé…ç½®webpack: 1.è¿è¡Œnpm install webpack webpack-cli -Då‘½ä»¤,å®‰è£… webpack ç›¸å…³çš„åŒ… 2.ä½¿ç”¨webpackæ‰“åŒ… 3.åœ¨package.jsoné…ç½®æ–‡ä»¶ä¸­çš„scriptsèŠ‚ç‚¹ä¸‹ï¼Œæ–°å¢de..."><meta property="og:type" content="article"><meta property="og:image" content="https://raw.githubusercontent.com/molimaMCc/Image/main/imgs/image-20221028160308816.png"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="å–åèŠ±å…‰é’±"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"webpack","image":["https://raw.githubusercontent.com/molimaMCc/Image/main/imgs/image-20221028160308816.png","https://raw.githubusercontent.com/molimaMCc/Image/main/imgs/image-20221029220903942.png","https://raw.githubusercontent.com/molimaMCc/Image/main/imgs/image-20221030165335219.png"],"dateModified":null,"author":[{"@type":"Person","name":"å–åèŠ±å…‰é’±","url":"https://molimamcc.github.io/Blog/"}]}</script><title>webpack | å–åèŠ±å…‰é’±</title><meta name="description" content="webpack webpack:å‰ç«¯æ‰“åŒ…å·¥å…· 1.webpackåŸºæœ¬ä½¿ç”¨ åˆå§‹åŒ–é¡¹ç›®éœ€npm init åœ¨é¡¹ç›®ä¸­å®‰è£…å’Œé…ç½®webpack: 1.è¿è¡Œnpm install webpack webpack-cli -Då‘½ä»¤,å®‰è£… webpack ç›¸å…³çš„åŒ… 2.ä½¿ç”¨webpackæ‰“åŒ… 3.åœ¨package.jsoné…ç½®æ–‡ä»¶ä¸­çš„scriptsèŠ‚ç‚¹ä¸‹ï¼Œæ–°å¢de...">
    <link rel="preload" href="/Blog/assets/style-BC3nh59h.css" as="style"><link rel="stylesheet" href="/Blog/assets/style-BC3nh59h.css">
    <link rel="modulepreload" href="/Blog/assets/app-otQn-0y1.js"><link rel="modulepreload" href="/Blog/assets/webpack.html-BYbxqrkf.js"><link rel="modulepreload" href="/Blog/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/Blog/assets/intro.html-D_XL3KvO.js" as="script"><link rel="prefetch" href="/Blog/assets/index.html-CxzZSlu6.js" as="script"><link rel="prefetch" href="/Blog/assets/index.html-CeWseMk6.js" as="script"><link rel="prefetch" href="/Blog/assets/CSS.html-BzhdN0ot.js" as="script"><link rel="prefetch" href="/Blog/assets/Layout.html-DBkAaTfE.js" as="script"><link rel="prefetch" href="/Blog/assets/AJAX.html-bEBRbmC5.js" as="script"><link rel="prefetch" href="/Blog/assets/HTML5.html-Bt-yJ2cl.js" as="script"><link rel="prefetch" href="/Blog/assets/HTMLBase.html-khFgOgQP.js" as="script"><link rel="prefetch" href="/Blog/assets/ES6.html-DLfgf-fJ.js" as="script"><link rel="prefetch" href="/Blog/assets/JavaScript.html-B2mP23F-.js" as="script"><link rel="prefetch" href="/Blog/assets/JavaScriptä¸æµè§ˆå™¨åŸç†.html-DrIlvcOO.js" as="script"><link rel="prefetch" href="/Blog/assets/Nodejs.html-BI15Pt6Q.js" as="script"><link rel="prefetch" href="/Blog/assets/TypeScript.html-B1yomQ2M.js" as="script"><link rel="prefetch" href="/Blog/assets/vue3.html-Cjn4Wcw4.js" as="script"><link rel="prefetch" href="/Blog/assets/DIFFç®—æ³•.html-DquHPjx2.js" as="script"><link rel="prefetch" href="/Blog/assets/vueå“åº”å¼.html-g5wg-6rl.js" as="script"><link rel="prefetch" href="/Blog/assets/pinia.html-hn5otXi3.js" as="script"><link rel="prefetch" href="/Blog/assets/vueRouter.html-CeQYLJfE.js" as="script"><link rel="prefetch" href="/Blog/assets/git.html-DHFo1vPz.js" as="script"><link rel="prefetch" href="/Blog/assets/404.html-CYrnEfUR.js" as="script"><link rel="prefetch" href="/Blog/assets/index.html-B9_7O5nk.js" as="script"><link rel="prefetch" href="/Blog/assets/index.html-Bj6OZVph.js" as="script"><link rel="prefetch" href="/Blog/assets/index.html-CLiRGTj9.js" as="script"><link rel="prefetch" href="/Blog/assets/index.html-BIDUxp-4.js" as="script"><link rel="prefetch" href="/Blog/assets/index.html-DxlCq3z1.js" as="script"><link rel="prefetch" href="/Blog/assets/index.html-Cvt9QOvE.js" as="script"><link rel="prefetch" href="/Blog/assets/index.html-OuhA4CCT.js" as="script"><link rel="prefetch" href="/Blog/assets/index.html-D6KUliww.js" as="script"><link rel="prefetch" href="/Blog/assets/index.html-BXn3KVRA.js" as="script"><link rel="prefetch" href="/Blog/assets/index.html-DsuJjHOX.js" as="script"><link rel="prefetch" href="/Blog/assets/index.html-BU7YBFLh.js" as="script"><link rel="prefetch" href="/Blog/assets/index.html-CbT44jpl.js" as="script"><link rel="prefetch" href="/Blog/assets/index.html-CkxtjZBs.js" as="script"><link rel="prefetch" href="/Blog/assets/index.html-DlUhP1c7.js" as="script"><link rel="prefetch" href="/Blog/assets/index.html-CKbf1xCR.js" as="script"><link rel="prefetch" href="/Blog/assets/giscus-7BMGhbDA.js" as="script"><link rel="prefetch" href="/Blog/assets/photoswipe.esm-SzV8tJDW.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="route-link vp-brand" href="/Blog/"><img class="vp-nav-logo" src="https://raw.githubusercontent.com/molimaMCc/Image/main/imgs/%E5%AE%A0%E7%89%A9-17113498598171.svg" alt><!----><span class="vp-site-name hide-in-pad">å–åèŠ±å…‰é’±</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/Blog/" aria-label="é¦–é¡µ"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>é¦–é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a class="route-link nav-link" href="/Blog/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/" aria-label="ç½‘ç»œåè®®"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>ç½‘ç»œåè®®<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="å‰ç«¯åŸºç¡€"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>å‰ç«¯åŸºç¡€</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>HTML</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="route-link nav-link" href="/Blog/base/HTML5/HTMLBase.html" aria-label="HTMLBASE"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>HTMLBASE<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/Blog/base/HTML5/HTML5.html" aria-label="HTML5"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>HTML5<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/Blog/base/HTML5/AJAX.html" aria-label="AJAX"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>AJAX<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>CSS</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="route-link nav-link" href="/Blog/base/CSS3/Layout.html" aria-label="CSSLayout"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>CSSLayout<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/Blog/base/CSS3/CSS.html" aria-label="CSS"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>CSS<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>JavaScript</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="route-link nav-link" href="/Blog/base/JavaScript/JavaScript.html" aria-label="JavaScript"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>JavaScript<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/Blog/base/JavaScript/ES6.html" aria-label="ES6"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>ES6<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/Blog/base/JavaScript/JavaScript%E4%B8%8E%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8E%9F%E7%90%86.html" aria-label="Browse"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>Browse<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/Blog/base/JavaScript/TypeScript.html" aria-label="TypeScript"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>TypeScript<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/Blog/base/JavaScript/Nodejs.html" aria-label="NodeJs"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>NodeJs<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="Vue"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>Vue</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Vue3</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="route-link nav-link" href="/Blog/Vue/vue3/vue3.html" aria-label="Vue3"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>Vue3<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>å·¥å…·</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="route-link nav-link" href="/Blog/Vue/%E5%B7%A5%E5%85%B7/pinia.html" aria-label="pinia"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>pinia<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/Blog/Vue/%E5%B7%A5%E5%85%B7/vueRouter.html" aria-label="vueRouter"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>vueRouter<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Vueæºç </span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="route-link nav-link" href="/Blog/Vue/Vue%E6%BA%90%E7%A0%81/DIFF%E7%AE%97%E6%B3%95.html" aria-label="DIFFç®—æ³•"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>DIFFç®—æ³•<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/Blog/Vue/Vue%E6%BA%90%E7%A0%81/vue%E5%93%8D%E5%BA%94%E5%BC%8F.html" aria-label="å“åº”å¼åŸç†"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>å“åº”å¼åŸç†<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="æ„å»ºå·¥å…·"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>æ„å»ºå·¥å…·</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ•™ç¨‹</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="route-link nav-link active" href="/Blog/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/%E6%95%99%E7%A8%8B/webpack.html" aria-label="Webpack"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>Webpack<!----></a></li><li class="dropdown-subitem"><a class="route-link nav-link" href="/Blog/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/%E6%95%99%E7%A8%8B/git.html" aria-label="Git"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>Git<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="æ€ç»´å¯¼å›¾"><span class="title"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>æ€ç»´å¯¼å›¾</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="https://boardmix.cn/app/share/CAE.CP6tnwwgASoQrhHPiNKjN6G4H-15NzxZgDAGQAE/lgxjs7" rel="noopener noreferrer" target="_blank" aria-label="æ•°ç»„ä¸å­—ç¬¦ä¸²" class="nav-link"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>æ•°ç»„ä¸å­—ç¬¦ä¸²<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://boardmix.cn/app/share/CAE.CP6tnwwgASoQ6vK6n-yZX1vnbcpnBZnDbDAGQAE/lgxjs7" rel="noopener noreferrer" target="_blank" aria-label="DOMä¸BOM" class="nav-link"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>DOMä¸BOM<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://boardmix.cn/app/share/CAE.CP6tnwwgASoQ6vK6n-yZX1vnbcpnBZnDbDAGQAE/lgxjs7" rel="noopener noreferrer" target="_blank" aria-label="Mathå†…ç½®å¯¹è±¡" class="nav-link"><span class="font-icon icon fa-fw fa-sm fas fa-pen-to-square" style=""></span>Mathå†…ç½®å¯¹è±¡<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></button></div></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">æ•™ç¨‹</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/Blog/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/%E6%95%99%E7%A8%8B/webpack.html" aria-label="webpack"><!---->webpack<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/Blog/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/%E6%95%99%E7%A8%8B/git.html" aria-label="Git"><!---->Git<!----></a></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->webpack</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://molimamcc.github.io/Blog/" target="_blank" rel="noopener noreferrer">å–åèŠ±å…‰é’±</a></span><span property="author" content="å–åèŠ±å…‰é’±"></span></span><!----><!----><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 33 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT33M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!--[--><!----><!--]--><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/Blog/#_1-webpackåŸºæœ¬ä½¿ç”¨">1.webpackåŸºæœ¬ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/Blog/#_2-é…ç½®æ–‡ä»¶">2.é…ç½®æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/Blog/#_3-loaderçš„ä½¿ç”¨">3.Loaderçš„ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/Blog/#_4-browserslistrcå·¥ä½œæµç¨‹">4.browserslistrcå·¥ä½œæµç¨‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/Blog/#_5-postcsså·¥ä½œæµç¨‹">5.postcsså·¥ä½œæµç¨‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/Blog/#_6-postcss-loader">6.postcss-loader</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/Blog/#_7-importloaderså±æ€§">7.importLoaderså±æ€§</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/Blog/#_8-file-loaderå¤„ç†å›¾ç‰‡">8.file-loaderå¤„ç†å›¾ç‰‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/Blog/#_9-assetèµ„æºæ¨¡å—">9.assetèµ„æºæ¨¡å—</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/Blog/#_10-æ’ä»¶çš„ä½¿ç”¨">10. æ’ä»¶çš„ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/Blog/#_11-babelçš„ä½¿ç”¨">11.babelçš„ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/Blog/#_12-polyfillçš„ä½¿ç”¨">12.polyfillçš„ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/Blog/#_13-webpack-dev-server">13.webpack-dev-server</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/Blog/#_14-è¾“å‡º">14.è¾“å‡º</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="/Blog/#_15-é¡¹ç›®ä¼˜åŒ–">15.é¡¹ç›®ä¼˜åŒ–</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h1 id="webpack" tabindex="-1"><a class="header-anchor" href="#webpack"><span>webpack</span></a></h1><p>webpack:å‰ç«¯æ‰“åŒ…å·¥å…·</p><h3 id="_1-webpackåŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_1-webpackåŸºæœ¬ä½¿ç”¨"><span>1.webpackåŸºæœ¬ä½¿ç”¨</span></a></h3><p>åˆå§‹åŒ–é¡¹ç›®éœ€npm init</p><p><strong>åœ¨é¡¹ç›®ä¸­å®‰è£…å’Œé…ç½®webpack:</strong></p><p>1.è¿è¡Œnpm install webpack webpack-cli -Då‘½ä»¤,å®‰è£… webpack ç›¸å…³çš„åŒ…</p><p>2.ä½¿ç”¨webpackæ‰“åŒ…</p><p>3.åœ¨<code>package.json</code>é…ç½®æ–‡ä»¶ä¸­çš„scriptsèŠ‚ç‚¹ä¸‹ï¼Œæ–°å¢devè„šæœ¬å¦‚ä¸‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token string-property property">&quot;dev&quot;</span><span class="token operator">:</span><span class="token string">&quot;webpack&quot;</span><span class="token comment">//scriptèŠ‚ç‚¹ä¸‹çš„è„šæœ¬ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤ç›´æ¥åœ¨è¿™ä¿®æ”¹webpacké…ç½®</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4.åœ¨ç»ˆç«¯è¿è¡Œ npm run dev å‘½ä»¤ï¼Œå¯åŠ¨webpackæ‰“åŒ…</p><h3 id="_2-é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_2-é…ç½®æ–‡ä»¶"><span>2.é…ç½®æ–‡ä»¶</span></a></h3><p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­ï¼Œåˆ›å»ºåä¸º<code>webpack.config.js</code>çš„webpacké…ç½®æ–‡ä»¶</p><p><strong>æ‰“åŒ…çš„å…¥å£æ–‡ä»¶ä¸ºsrc-&gt; index.js</strong><strong>æ‰“åŒ…çš„è¾“å‡ºæ–‡ä»¶ä¸ºdist-&gt; bundle.js</strong></p><p>å¦‚æœè¦ä¿®æ”¹æ‰“åŒ…çš„å…¥å£ä¸å‡ºå£ï¼Œå¯ä»¥åœ¨webpack.config.jsä¸­é…ç½®ä¿¡æ¯</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> requireï¼ˆ<span class="token string">&#39;path&#39;</span>ï¼‰<span class="token comment">//å¯¼å…¥ node.jsä¸­ä¸“é—¨æ“ä½œè·¯å¾„çš„æ¨¡å—</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span><span class="token punctuation">{</span>
<span class="token literal-property property">entry</span><span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//æ‰“åŒ…å…¥å£æ–‡ä»¶çš„è·¯å¾„</span>
<span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;./dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//è¾“å‡ºæ–‡ä»¶çš„å­˜æ”¾è·¯å¾„  åªèƒ½æ—¶ç»å¯¹è·¯å¾„</span>
	<span class="token literal-property property">filename</span><span class="token operator">:</span><span class="token string">&#39;bundle.js&#39;</span><span class="token comment">//è¾“å‡ºæ–‡ä»¶çš„åç§°</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span> <span class="token comment">// &quot;production&quot; | &quot;development&quot; | &quot;none&quot;</span>
  <span class="token comment">// Chosen mode tells webpack to use its built-in optimizations accordingly.</span>

  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&quot;./app/entry&quot;</span><span class="token punctuation">,</span> <span class="token comment">// string | object | array</span>
  <span class="token comment">// è¿™é‡Œåº”ç”¨ç¨‹åºå¼€å§‹æ‰§è¡Œ</span>
  <span class="token comment">// webpack å¼€å§‹æ‰“åŒ…</span>

  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// webpack å¦‚ä½•è¾“å‡ºç»“æœçš„ç›¸å…³é€‰é¡¹</span>

    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
    <span class="token comment">// æ‰€æœ‰è¾“å‡ºæ–‡ä»¶çš„ç›®æ ‡è·¯å¾„</span>
    <span class="token comment">// å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ï¼ˆä½¿ç”¨ Node.js çš„ path æ¨¡å—ï¼‰</span>

    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;bundle.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
    <span class="token comment">// ã€Œå…¥å£åˆ†å—(entry chunk)ã€çš„æ–‡ä»¶åæ¨¡æ¿ï¼ˆå‡ºå£åˆ†å—ï¼Ÿï¼‰</span>

    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&quot;/assets/&quot;</span><span class="token punctuation">,</span> <span class="token comment">// string</span>
    <span class="token comment">// è¾“å‡ºè§£ææ–‡ä»¶çš„ç›®å½•ï¼Œurl ç›¸å¯¹äº HTML é¡µé¢</span>

    <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token string">&quot;MyLibrary&quot;</span><span class="token punctuation">,</span> <span class="token comment">// string,</span>
    <span class="token comment">// å¯¼å‡ºåº“(exported library)çš„åç§°</span>

    <span class="token literal-property property">libraryTarget</span><span class="token operator">:</span> <span class="token string">&quot;umd&quot;</span><span class="token punctuation">,</span> <span class="token comment">// é€šç”¨æ¨¡å—å®šä¹‰</span>
    <span class="token comment">// å¯¼å‡ºåº“(exported library)çš„ç±»å‹</span>

    <span class="token comment">/* é«˜çº§è¾“å‡ºé…ç½®ï¼ˆç‚¹å‡»æ˜¾ç¤ºï¼‰ */</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// å…³äºæ¨¡å—é…ç½®</span>

    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// æ¨¡å—è§„åˆ™ï¼ˆé…ç½® loaderã€è§£æå™¨ç­‰é€‰é¡¹ï¼‰</span>

      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.jsx?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;app&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;app/demo-files&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment">// è¿™é‡Œæ˜¯åŒ¹é…æ¡ä»¶ï¼Œæ¯ä¸ªé€‰é¡¹éƒ½æ¥æ”¶ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼æˆ–å­—ç¬¦ä¸²</span>
        <span class="token comment">// test å’Œ include å…·æœ‰ç›¸åŒçš„ä½œç”¨ï¼Œéƒ½æ˜¯å¿…é¡»åŒ¹é…é€‰é¡¹</span>
        <span class="token comment">// exclude æ˜¯å¿…ä¸åŒ¹é…é€‰é¡¹ï¼ˆä¼˜å…ˆäº test å’Œ includeï¼‰</span>
        <span class="token comment">// æœ€ä½³å®è·µï¼š</span>
        <span class="token comment">// - åªåœ¨ test å’Œ æ–‡ä»¶ååŒ¹é… ä¸­ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼</span>
        <span class="token comment">// - åœ¨ include å’Œ exclude ä¸­ä½¿ç”¨ç»å¯¹è·¯å¾„æ•°ç»„</span>
        <span class="token comment">// - å°½é‡é¿å… excludeï¼Œæ›´å€¾å‘äºä½¿ç”¨ include</span>

        <span class="token literal-property property">issuer</span><span class="token operator">:</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> include<span class="token punctuation">,</span> exclude <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// issuer æ¡ä»¶ï¼ˆå¯¼å…¥æºï¼‰</span>

        <span class="token literal-property property">enforce</span><span class="token operator">:</span> <span class="token string">&quot;pre&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">enforce</span><span class="token operator">:</span> <span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
        <span class="token comment">// æ ‡è¯†åº”ç”¨è¿™äº›è§„åˆ™ï¼Œå³ä½¿è§„åˆ™è¦†ç›–ï¼ˆé«˜çº§é€‰é¡¹ï¼‰</span>

        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token comment">// åº”è¯¥åº”ç”¨çš„ loaderï¼Œå®ƒç›¸å¯¹ä¸Šä¸‹æ–‡è§£æ</span>
        <span class="token comment">// ä¸ºäº†æ›´æ¸…æ™°ï¼Œ`-loader` åç¼€åœ¨ webpack 2 ä¸­ä¸å†æ˜¯å¯é€‰çš„</span>
        <span class="token comment">// æŸ¥çœ‹ webpack 1 å‡çº§æŒ‡å—ã€‚</span>

        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;es2015&quot;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// loader çš„å¯é€‰é¡¹</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.html$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token string">&quot;\.html$&quot;</span>

        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token comment">// åº”ç”¨å¤šä¸ª loader å’Œé€‰é¡¹</span>
          <span class="token string">&quot;htmllint-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;html-loader&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">/* ... */</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      <span class="token punctuation">{</span> <span class="token literal-property property">oneOf</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">/* rules */</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// åªä½¿ç”¨è¿™äº›åµŒå¥—è§„åˆ™ä¹‹ä¸€</span>

      <span class="token punctuation">{</span> <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">/* rules */</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// ä½¿ç”¨æ‰€æœ‰è¿™äº›åµŒå¥—è§„åˆ™ï¼ˆåˆå¹¶å¯ç”¨æ¡ä»¶ï¼‰</span>

      <span class="token punctuation">{</span> <span class="token literal-property property">resource</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">and</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">/* æ¡ä»¶ */</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// ä»…å½“æ‰€æœ‰æ¡ä»¶éƒ½åŒ¹é…æ—¶æ‰åŒ¹é…</span>

      <span class="token punctuation">{</span> <span class="token literal-property property">resource</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">or</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">/* æ¡ä»¶ */</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">resource</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">/* æ¡ä»¶ */</span> <span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token comment">// ä»»æ„æ¡ä»¶åŒ¹é…æ—¶åŒ¹é…ï¼ˆé»˜è®¤ä¸ºæ•°ç»„ï¼‰</span>

      <span class="token punctuation">{</span> <span class="token literal-property property">resource</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">not</span><span class="token operator">:</span> <span class="token comment">/* æ¡ä»¶ */</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>
      <span class="token comment">// æ¡ä»¶ä¸åŒ¹é…æ—¶åŒ¹é…</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">/* é«˜çº§æ¨¡å—é…ç½®ï¼ˆç‚¹å‡»å±•ç¤ºï¼‰ */</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// è§£ææ¨¡å—è¯·æ±‚çš„é€‰é¡¹</span>
    <span class="token comment">// ï¼ˆä¸é€‚ç”¨äºå¯¹ loader è§£æï¼‰</span>

    <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;node_modules&quot;</span><span class="token punctuation">,</span>
      path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;app&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// ç”¨äºæŸ¥æ‰¾æ¨¡å—çš„ç›®å½•</span>

    <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.json&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.jsx&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.css&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// ä½¿ç”¨çš„æ‰©å±•å</span>

    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// æ¨¡å—åˆ«ååˆ—è¡¨</span>

      <span class="token string-property property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;new-module&quot;</span><span class="token punctuation">,</span>
      <span class="token comment">// èµ·åˆ«åï¼š&quot;module&quot; -&gt; &quot;new-module&quot; å’Œ &quot;module/path/file&quot; -&gt; &quot;new-module/path/file&quot;</span>

      <span class="token string-property property">&quot;only-module$&quot;</span><span class="token operator">:</span> <span class="token string">&quot;new-module&quot;</span><span class="token punctuation">,</span>
      <span class="token comment">// èµ·åˆ«å &quot;only-module&quot; -&gt; &quot;new-module&quot;ï¼Œä½†ä¸åŒ¹é… &quot;only-module/path/file&quot; -&gt; &quot;new-module/path/file&quot;</span>

      <span class="token string-property property">&quot;module&quot;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;app/third/module.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token comment">// èµ·åˆ«å &quot;module&quot; -&gt; &quot;./app/third/module.js&quot; å’Œ &quot;module/file&quot; ä¼šå¯¼è‡´é”™è¯¯</span>
      <span class="token comment">// æ¨¡å—åˆ«åç›¸å¯¹äºå½“å‰ä¸Šä¸‹æ–‡å¯¼å…¥</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">/* å¯ä¾›é€‰æ‹©çš„åˆ«åè¯­æ³•ï¼ˆç‚¹å‡»å±•ç¤ºï¼‰ */</span>

    <span class="token comment">/* é«˜çº§è§£æé€‰é¡¹ï¼ˆç‚¹å‡»å±•ç¤ºï¼‰ */</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">performance</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">hints</span><span class="token operator">:</span> <span class="token string">&quot;warning&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æšä¸¾</span>
    <span class="token literal-property property">maxAssetSize</span><span class="token operator">:</span> <span class="token number">200000</span><span class="token punctuation">,</span> <span class="token comment">// æ•´æ•°ç±»å‹ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰</span>
    <span class="token literal-property property">maxEntrypointSize</span><span class="token operator">:</span> <span class="token number">400000</span><span class="token punctuation">,</span> <span class="token comment">// æ•´æ•°ç±»å‹ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰</span>
    <span class="token function-variable function">assetFilter</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">assetFilename</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// æä¾›èµ„æºæ–‡ä»¶åçš„æ–­è¨€å‡½æ•°</span>
      <span class="token keyword">return</span> assetFilename<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&#39;.css&#39;</span><span class="token punctuation">)</span> <span class="token operator">||</span> assetFilename<span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">&#39;.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&quot;source-map&quot;</span><span class="token punctuation">,</span> <span class="token comment">// enum</span>
  <span class="token comment">// é€šè¿‡åœ¨æµè§ˆå™¨è°ƒè¯•å·¥å…·(browser devtools)ä¸­æ·»åŠ å…ƒä¿¡æ¯(meta info)å¢å¼ºè°ƒè¯•</span>
  <span class="token comment">// ç‰ºç‰²äº†æ„å»ºé€Ÿåº¦çš„ `source-map&#39; æ˜¯æœ€è¯¦ç»†çš„ã€‚</span>

  <span class="token literal-property property">context</span><span class="token operator">:</span> __dirname<span class="token punctuation">,</span> <span class="token comment">// stringï¼ˆç»å¯¹è·¯å¾„ï¼ï¼‰</span>
  <span class="token comment">// webpack çš„ä¸»ç›®å½•</span>
  <span class="token comment">// entry å’Œ module.rules.loader é€‰é¡¹</span>
  <span class="token comment">// ç›¸å¯¹äºæ­¤ç›®å½•è§£æ</span>

  <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&quot;web&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æšä¸¾</span>
  <span class="token comment">// åŒ…(bundle)åº”è¯¥è¿è¡Œçš„ç¯å¢ƒ</span>
  <span class="token comment">// æ›´æ”¹ å—åŠ è½½è¡Œä¸º(chunk loading behavior) å’Œ å¯ç”¨æ¨¡å—(available module)</span>

  <span class="token literal-property property">externals</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^@angular\/</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// ä¸è¦éµå¾ª/æ‰“åŒ…è¿™äº›æ¨¡å—ï¼Œè€Œæ˜¯åœ¨è¿è¡Œæ—¶ä»ç¯å¢ƒä¸­è¯·æ±‚ä»–ä»¬</span>

  <span class="token literal-property property">stats</span><span class="token operator">:</span> <span class="token string">&quot;errors-only&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// ç²¾ç¡®æ§åˆ¶è¦æ˜¾ç¤ºçš„ bundle ä¿¡æ¯</span>

  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// proxy URLs to backend development server</span>
      <span class="token string-property property">&#39;/api&#39;</span><span class="token operator">:</span> <span class="token string">&#39;http://localhost:3000&#39;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;public&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// boolean | string | array, static file location</span>
    <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// enable gzip compression</span>
    <span class="token literal-property property">historyApiFallback</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// true for index.html upon 404, object for multiple paths</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// hot module replacement. Depends on HotModuleReplacementPlugin</span>
    <span class="token literal-property property">https</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// true for self-signed, object for cert authority</span>
    <span class="token literal-property property">noInfo</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// only errors &amp; warns on hot reload</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token comment">// é™„åŠ æ’ä»¶åˆ—è¡¨</span>


  <span class="token comment">/* é«˜çº§é…ç½®ï¼ˆç‚¹å‡»å±•ç¤ºï¼‰ */</span>

  <span class="token literal-property property">resolveLoader</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">/* ç­‰åŒäº resolve */</span> <span class="token punctuation">}</span>
  <span class="token comment">// ç‹¬ç«‹è§£æé€‰é¡¹çš„ loader</span>

  <span class="token literal-property property">parallelism</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// number</span>
  <span class="token comment">// é™åˆ¶å¹¶è¡Œå¤„ç†æ¨¡å—çš„æ•°é‡</span>

  <span class="token literal-property property">profile</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
  <span class="token comment">// æ•è·æ—¶æœºä¿¡æ¯</span>

  <span class="token literal-property property">bail</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//boolean</span>
  <span class="token comment">// åœ¨ç¬¬ä¸€ä¸ªé”™è¯¯å‡ºé”™æ—¶æŠ›å‡ºï¼Œè€Œä¸æ˜¯æ— è§†é”™è¯¯ã€‚</span>

  <span class="token literal-property property">cache</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
  <span class="token comment">// ç¦ç”¨/å¯ç”¨ç¼“å­˜</span>

  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
  <span class="token comment">// å¯ç”¨è§‚å¯Ÿ</span>

  <span class="token literal-property property">watchOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">aggregateTimeout</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token comment">// in ms</span>
    <span class="token comment">// å°†å¤šä¸ªæ›´æ”¹èšåˆåˆ°å•ä¸ªé‡æ„å»º(rebuild)</span>

    <span class="token literal-property property">poll</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">poll</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token comment">// é—´éš”å•ä½ ms</span>
    <span class="token comment">// å¯ç”¨è½®è¯¢è§‚å¯Ÿæ¨¡å¼</span>
    <span class="token comment">// å¿…é¡»ç”¨åœ¨ä¸é€šçŸ¥æ›´æ”¹çš„æ–‡ä»¶ç³»ç»Ÿä¸­</span>
    <span class="token comment">// å³ nfs sharesï¼ˆè¯‘è€…æ³¨ï¼šNetwork FileSystemï¼Œæœ€å¤§çš„åŠŸèƒ½å°±æ˜¯å¯ä»¥é€éç¶²è·¯ï¼Œè®“ä¸åŒçš„æ©Ÿå™¨ã€ä¸åŒçš„ä½œæ¥­ç³»çµ±ã€å¯ä»¥å½¼æ­¤åˆ†äº«å€‹åˆ¥çš„æª”æ¡ˆ ( share file )ï¼‰</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">node</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// Polyfills and mocks to run Node.js-</span>
    <span class="token comment">// environment code in non-Node environments.</span>

    <span class="token literal-property property">console</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// boolean | &quot;mock&quot;</span>
    <span class="token literal-property property">global</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean | &quot;mock&quot;</span>
    <span class="token literal-property property">process</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean</span>
    <span class="token literal-property property">__filename</span><span class="token operator">:</span> <span class="token string">&quot;mock&quot;</span><span class="token punctuation">,</span> <span class="token comment">// boolean | &quot;mock&quot;</span>
    <span class="token literal-property property">__dirname</span><span class="token operator">:</span> <span class="token string">&quot;mock&quot;</span><span class="token punctuation">,</span> <span class="token comment">// boolean | &quot;mock&quot;</span>
    <span class="token literal-property property">Buffer</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// boolean | &quot;mock&quot;</span>
    <span class="token literal-property property">setImmediate</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// boolean | &quot;mock&quot; | &quot;empty&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">recordsPath</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;build/records.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">recordsInputPath</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;build/records.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">recordsOutputPath</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;build/records.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// TODO</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-1è‡ªåŠ¨å¼•å…¥èµ„æº" tabindex="-1"><a class="header-anchor" href="#_2-1è‡ªåŠ¨å¼•å…¥èµ„æº"><span>2.1è‡ªåŠ¨å¼•å…¥èµ„æº</span></a></h4><p><strong>html-webpack-pluginçš„ä½¿ç”¨</strong></p><p>npm i html-webpack-plugin -D</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span> <span class="token comment">//å¼•å…¥æ’ä»¶</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./01study/src/study.js&#39;</span><span class="token punctuation">,</span> <span class="token comment">//æ‰“åŒ…å…¥å£æ–‡ä»¶çš„è·¯å¾„</span>
    <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./01study/dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//è¾“å‡ºæ–‡ä»¶çš„å­˜æ”¾è·¯å¾„</span>
        <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span> <span class="token comment">//è¾“å‡ºæ–‡ä»¶çš„åç§°</span>
        <span class="token literal-property property">clean</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ¸…ç†dist</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;./01study/index.html&#39;</span><span class="token punctuation">,</span> <span class="token comment">//æŒ‡å®šä»¥å“ªä¸ªhtmlæ–‡ä»¶ä¸ºæ¨¡æ¿</span>
            <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;app.html&#39;</span><span class="token punctuation">,</span>   <span class="token comment">// ç”Ÿæˆæ–°çš„htmlæ–‡ä»¶å</span>
            <span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token string">&#39;body&#39;</span><span class="token punctuation">,</span>         <span class="token comment">// æŒ‡å®šæ–°çš„è‡ªåŠ¨ç”Ÿäº§çš„scriptæ ‡ç­¾æ”¾åœ¨å“ª</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// ä½¿ç”¨æ’ä»¶</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2ä½¿ç”¨soruce-mapæ’é”™" tabindex="-1"><a class="header-anchor" href="#_2-2ä½¿ç”¨soruce-mapæ’é”™"><span>2.2ä½¿ç”¨soruce-mapæ’é”™</span></a></h4><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&#39;inline-source-map&#39;</span><span class="token punctuation">,</span> <span class="token comment">//æ‰¾å‡ºåœ¨åŸæ–‡ä»¶å‡ºé”™çš„ä½ç½®ï¼Œè€Œä¸æ˜¯åœ¨æ‰“åŒ…åçš„jsæ–‡ä»¶ä¸­</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3ä½¿ç”¨webpack-dev-server" tabindex="-1"><a class="header-anchor" href="#_2-3ä½¿ç”¨webpack-dev-server"><span>2.3ä½¿ç”¨webpack-dev-server</span></a></h4><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
<span class="token comment">// ....</span>

<span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// static: {</span>
        <span class="token comment">//     directory: path.resolve(__dirname, &#39;./01study/dist&#39;),</span>
        <span class="token comment">// },  //ä¸åœ¨ç”Ÿæ•ˆ</span>
        <span class="token literal-property property">contentBase</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./01study/dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token literal-property property">compress</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
 <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>çƒ­æ¨¡å—æ›´æ–°å¼€å¯ï¼Œå®æ–½æ›´æ–°å¼€å¯</p><h3 id="_3-loaderçš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_3-loaderçš„ä½¿ç”¨"><span>3.Loaderçš„ä½¿ç”¨</span></a></h3><h4 id="_3-1åœ¨webpack5ä¸­loaderä½¿ç”¨æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_3-1åœ¨webpack5ä¸­loaderä½¿ç”¨æ–¹å¼"><span>3.1åœ¨webpack5ä¸­loaderä½¿ç”¨æ–¹å¼</span></a></h4><p>è¡Œå†…ä½¿ç”¨ï¼Œç›´æ¥åœ¨è¦åŠ è½½çš„æ–‡ä»¶ä¸­å¼•å…¥çš„æ—¶å€™åŠ å…¥</p><figure><img src="https://raw.githubusercontent.com/molimaMCc/Image/main/imgs/image-20221028160308816.png" alt="image-20221028160308816" tabindex="0" loading="lazy"><figcaption>image-20221028160308816</figcaption></figure><p>åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ï¼š</p><p><strong>1.å…¨å†™æ–¹å¼</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code> <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
             <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// ä¸€èˆ¬æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¡¨ç¤ºå¤„ç†ä»€ä¹ˆæ–‡ä»¶çš„</span>
             <span class="token literal-property property">use</span><span class="token operator">:</span><span class="token punctuation">[</span>
               <span class="token punctuation">{</span> 
                 <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span> <span class="token comment">// éœ€è¦çš„loader</span>
                 <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token comment">// éœ€è¦çš„å‚æ•°</span>
             	<span class="token punctuation">}</span>
             <span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>2.ç®€å†™</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span><span class="token string">&#39;css-loader&#39;</span> <span class="token comment">//åªéœ€è¦ä¸€ä¸ªloaderçš„æ—¶å€™æ–¹ä¾¿</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3.ç®€å†™</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¤šä¸ªloaderçš„æ‰§è¡Œé¡ºåºæ˜¯<code>ä»å³å¾€å·¦</code>ï¼Œ<code>ä»ä¸‹å¾€ä¸Š</code>çš„è§„åˆ™</p><h4 id="_3-2less-loaderçš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_3-2less-loaderçš„ä½¿ç”¨"><span>3.2less-loaderçš„ä½¿ç”¨</span></a></h4><p>å…ˆå®‰è£…lessï¼Œåœ¨æœ‰lessæ–‡ä»¶çš„æƒ…å†µä¸‹ä¸‹è½½<code>less-loader</code></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-browserslistrcå·¥ä½œæµç¨‹" tabindex="-1"><a class="header-anchor" href="#_4-browserslistrcå·¥ä½œæµç¨‹"><span>4.browserslistrcå·¥ä½œæµç¨‹</span></a></h3><p><code>browserslist</code>å¹²äº†ä»€ä¹ˆï¼Ÿ</p><p>å‰æ™¯ï¼šå·¥ç¨‹åŒ–å¼€å‘çš„æ—¶å€™äº†ï¼Œæˆ‘ä»¬éœ€è¦å…¼å®¹CSSï¼ŒJSç‰ˆæœ¬ï¼Œä½¿ç”¨bableï¼Œpostcssæ¥å…¼å®¹ä½ç‰ˆæœ¬çš„æµè§ˆå™¨ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸çŸ¥é“å…¼å®¹çš„æ˜¯å“ªäº›æµè§ˆå™¨</p><p><strong>browserslist</strong>å¯ä»¥è®¾ç½®æˆ‘ä»¬éœ€è¦å…¼å®¹çš„æµè§ˆå™¨å¹³å°æœ‰å“ªäº›</p><p>åœ¨<code>package.json</code>ä¸­é…ç½®</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token string-property property">&quot;browserslist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
 	<span class="token string">&quot;&gt;1%&quot;</span><span class="token punctuation">,</span>    <span class="token comment">// å¸‚åœºå æ¯”å¤§äº1%  </span>
 	<span class="token string">&quot;last 2 version&quot;</span><span class="token punctuation">,</span>  <span class="token comment">// è¿”å›çš„æ˜¯æœ€æ–°ä¸¤ä¸ªç‰ˆæœ¬</span>
 	<span class="token string">&quot;not dead&quot;</span>  <span class="token comment">// æœ‰æ›´æ–°</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨<code>.browserslitrc</code>æ–‡ä»¶ä¸­ç›´æ¥è®¾ç½®</p><div class="language-css line-numbers-mode" data-ext="css" data-title="css"><pre class="language-css"><code><span class="token string">&quot;&gt;1%&quot;</span><span class="token punctuation">,</span>   
<span class="token string">&quot;last 2 version&quot;</span><span class="token punctuation">,</span> 
<span class="token string">&quot;not dead&quot;</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-postcsså·¥ä½œæµç¨‹" tabindex="-1"><a class="header-anchor" href="#_5-postcsså·¥ä½œæµç¨‹"><span>5.postcsså·¥ä½œæµç¨‹</span></a></h3><p>postcssæ˜¯ä»€ä¹ˆï¼Ÿåˆ©ç”¨JavaScriptè½¬æ¢æ ·å¼ï¼ˆåšå…¼å®¹ï¼‰çš„å·¥å…·</p><p>1.é¦–å…ˆå®‰è£…postcss</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>npm i postcss <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2.å®‰è£…è¿‡åæˆ‘ä»¬å¹¶ä¸èƒ½ç›´æ¥ä½¿ç”¨</p><p>éœ€è¦å®‰è£…postcss-cli å¯ä»¥æ‰§è¡Œpostcss çš„æŒ‡ä»¤</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>npm i postcss<span class="token operator">-</span>cli <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>3.åœ¨ç»ˆç«¯ä½¿ç”¨</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>npx postcss <span class="token operator">-</span>o ret<span class="token punctuation">.</span>css <span class="token punctuation">.</span><span class="token operator">/</span>src<span class="token operator">/</span>css<span class="token operator">/</span>tes<span class="token punctuation">.</span>css 
<span class="token comment">// ret.css æ˜¯è¾“å‡ºçš„æ–‡ä»¶ï¼Œ  ./src/css/tes.cssæ˜¯ç›®æ ‡æ–‡ä»¶è·¯å¾„</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†æ˜¯å‘ç°è¿˜æ˜¯æ²¡æœ‰æ·»åŠ å‰ç¼€ï¼Œå› ä¸ºpostcssæ˜¯ç‹¬ç«‹çš„å·¥å…·ï¼Œè¿˜å¾—éœ€è¦å®‰è£…ç›¸åº”çš„æ’ä»¶é…åˆä½¿ç”¨</p><p>5.å®‰è£…è‡ªåŠ¨æ·»åŠ å‰ç¼€çš„æ’ä»¶<code>autoprefixer</code></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>npm i autoprefixer <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>6.æœ€åä½¿ç”¨</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>npx postcss <span class="token operator">--</span>use autoprefixer <span class="token operator">-</span>o ret<span class="token punctuation">.</span>css <span class="token punctuation">.</span><span class="token operator">/</span>src<span class="token operator">/</span>css<span class="token operator">/</span>tes<span class="token punctuation">.</span>css  <span class="token comment">// è¿™æ˜¯é€šè¿‡å‘½ä»¤è¡Œå»æ“ä½œ</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æœ€åæ‰“åŒ…åæœ‰å‰ç¼€</p><h3 id="_6-postcss-loader" tabindex="-1"><a class="header-anchor" href="#_6-postcss-loader"><span>6.postcss-loader</span></a></h3><h4 id="_6-1åŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_6-1åŸºæœ¬ä½¿ç”¨"><span>6.1åŸºæœ¬ä½¿ç”¨</span></a></h4><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>npm i postcss<span class="token operator">-</span>loader <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ ¹æ®postcsså·¥ä½œæµç¨‹æˆ‘ä»¬çŸ¥é“å¦‚æœè¦ä½¿ç”¨postcssè¦ä½¿ç”¨å…¶ä»–çš„æ’ä»¶</p><p>åœ¨webpack.config.jsé…ç½®æ–‡ä»¶ä¸­å†™æ³•ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                            <span class="token literal-property property">postcssOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                                    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;autoprefixer&#39;</span><span class="token punctuation">)</span>
                                   <span class="token comment">// &#39;autoprefixer&#39; //ä¹Ÿå¯ä»¥ç›´æ¥å†™å­—ç¬¦ä¸²ï¼Œçœ‹ä»€ä¹ˆç‰ˆæœ¬æ”¯æŒ</span>
                                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å¼€å‘ä¸­æˆ‘ä»¬éœ€è¦ä½¿ç”¨å¾ˆå¤šçš„æ’ä»¶ï¼Œè€Œ<code>autoprefixer</code>åªæ˜¯æ·»åŠ å‰ç¼€çš„æ’ä»¶ï¼Œæ‰€ä»¥å»ä¸€ä¸ªä¸ªä¸‹è½½å¾ˆéº»çƒ¦ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬ä¼šå®‰è£…ä¸€ä¸ª <strong>é¢„è®¾</strong>â€”â€”<strong>æ’ä»¶çš„é›†åˆ</strong></p><h4 id="_6-2postcss-preset-env" tabindex="-1"><a class="header-anchor" href="#_6-2postcss-preset-env"><span>6.2postcss-preset-env</span></a></h4><p>ä¸€ä¸ªpostcssçš„æ’ä»¶é›†åˆ</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                            <span class="token literal-property property">postcssOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                                    <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;postcss-preset-env&#39;</span><span class="token punctuation">)</span>
                                <span class="token punctuation">]</span><span class="token punctuation">,</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
          	<span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code> <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                            <span class="token literal-property property">postcssOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;autoprefixer&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                            <span class="token literal-property property">postcssOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                                <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;autoprefixer&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                            <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“less-loaderå¤„ç†åçš„cssæ–‡ä»¶ä¹Ÿéœ€è¦åšå…¼å®¹æ—¶ï¼Œé‚£ä¹ˆé…ç½®å†™ç›¸åŒçš„ï¼Œä½†ä»£ç å†—ä½™é«˜ï¼Œæ‰€ä»¥å¯ä»¥å°†æ’ä»¶é…ç½®å†™å…¥å•ç‹¬çš„æ–‡ä»¶</p><h4 id="_6-3postcss-config-js" tabindex="-1"><a class="header-anchor" href="#_6-3postcss-config-js"><span>6.3postcss.config.js</span></a></h4><p>å°†æ’ä»¶é…ç½®å†™å…¥å•ç‹¬çš„æ–‡ä»¶ä¸­</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>export <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;postcss-preset-env&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‚£ä¹ˆåœ¨<code>webpack.config.js</code>ä¸­å°±å¯ä»¥ç®€å†™</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
           	<span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
          	
          	<span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token string">&#39;less-loader&#39;</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
          	<span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-importloaderså±æ€§" tabindex="-1"><a class="header-anchor" href="#_7-importloaderså±æ€§"><span>7.importLoaderså±æ€§</span></a></h3><p><strong>ä¸€ä¸ªåœºæ™¯</strong>ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// é…ç½®æ–‡ä»¶çš„è§„åˆ™</span>
<span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
           	<span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
                    <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">,</span>
          	
          	<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ‰ä¸¤ä¸ªcssæ–‡ä»¶</p><div class="language-css line-numbers-mode" data-ext="css" data-title="css"><pre class="language-css"><code><span class="token selector">// index.css
.title</span><span class="token punctuation">{</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> all .5s<span class="token punctuation">;</span>
    <span class="token property">user-select</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-ext="css" data-title="css"><pre class="language-css"><code>// login.css
<span class="token atrule"><span class="token rule">@import</span> <span class="token string">&#39;./index.css&#39;</span>
.title</span><span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“login.cssæ–‡ä»¶é€šè¿‡@importå¯¼å…¥äº†index.cssæ–‡ä»¶</p><p><code>login.css</code>çš„å·¥ä½œè§£æé¡ºåºæ˜¯ï¼Œ<code>postcss-loader</code>æ‹¿åˆ°login.cssæ–‡ä»¶åè§£æç­›é€‰æ¡ä»¶å‘ç°å¹¶ä¸éœ€è¦åšé¢å¤–å¤„ç†ã€‚ç„¶åæŠŠç»“æœç»™äº†<code>css-loader</code>å¤„ç†ï¼Œcss-loaderæ˜¯å¯ä»¥å¤„ç†<code>@import</code>çš„ï¼Œè¿™æ—¶å€™åˆæ‹¿åˆ°<code>index.css</code>æ–‡ä»¶ï¼Œä½†æ˜¯loaderä¸ä¼šå›å¤´å¤„ç†ï¼Œåªèƒ½äº¤ç»™style-loaderå¤„ç†ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹css-loaderè¿›è¡Œé…ç½®</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">loader</span><span class="token operator">:</span><span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">options</span><span class="token operator">:</span><span class="token punctuation">{</span>
                    <span class="token literal-property property">importLoaders</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//è¡¨ç¤ºcss-loaderå†é‡åˆ°cssæ–‡ä»¶æ—¶ï¼Œå‘å‰1ä¸ªloaderå†å¤„ç†</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-file-loaderå¤„ç†å›¾ç‰‡" tabindex="-1"><a class="header-anchor" href="#_8-file-loaderå¤„ç†å›¾ç‰‡"><span>8.file-loaderå¤„ç†å›¾ç‰‡</span></a></h3><p>åœºæ™¯ï¼šç»™imgæ ‡ç­¾æ·»åŠ srcè·¯å¾„çš„å›¾ç‰‡</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// æ‰“åŒ…å›¾ç‰‡</span>

<span class="token keyword">function</span> <span class="token function">packImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆ›å»ºä¸€ä¸ªå®¹å™¨</span>
    <span class="token keyword">const</span> oEle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
    <span class="token comment">// åˆ›å»ºimgæ ‡ç­¾ è®¾ç½®srcå±æ€§</span>
    <span class="token keyword">const</span> oImg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;img&#39;</span><span class="token punctuation">)</span>
    oImg<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span>
    oImg<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../img/logo.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default <span class="token comment">//å¯ä»¥ä¸å†™defaultåœ¨é…ç½®æ–‡ä»¶ä¸­æ›´æ”¹</span>
    oEle<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>oImg<span class="token punctuation">)</span>
    <span class="token keyword">return</span> oEle
<span class="token punctuation">}</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token function">packImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>oImg.src = require(&#39;../img/logo.png&#39;).default</code>éœ€è¦è¢«file-loaderå¤„ç†ã€‚</p><p><strong>åœ¨é…ç½®æ–‡ä»¶ä¿®æ”¹esModuleé…ç½®ä¸ºfalse</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code> <span class="token punctuation">{</span>
     <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jepg|svg|gif?g)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
         <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
             <span class="token punctuation">{</span>
                 <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;file-loader&#39;</span><span class="token punctuation">,</span>
                 <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                     <span class="token literal-property property">esModule</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//ä¸è½¬ä¸ºesModule</span>
                 <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è¿˜å¯ä»¥è¿™æ ·æ”¹,ä¸ä¿®æ”¹esModuleé…ç½®ï¼Œæ”¹å¼•å…¥å›¾ç‰‡çš„æ–¹å¼</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> oImgSrc <span class="token keyword">from</span> <span class="token string">&#39;../img/logo.png&#39;</span>
<span class="token keyword">function</span> <span class="token function">packImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆ›å»ºä¸€ä¸ªå®¹å™¨</span>
    <span class="token keyword">const</span> oEle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
    <span class="token comment">// åˆ›å»ºimgæ ‡ç­¾ è®¾ç½®srcå±æ€§</span>
    <span class="token keyword">const</span> oImg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;img&#39;</span><span class="token punctuation">)</span>
    oImg<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span>
  	oImg<span class="token punctuation">.</span>src <span class="token operator">=</span> oImgSrc
    oEle<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>oImg<span class="token punctuation">)</span>
    <span class="token keyword">return</span> oEle
<span class="token punctuation">}</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token function">packImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœºæ™¯ï¼šæ·»åŠ èƒŒæ™¯å›¾ç‰‡</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&#39;../css/img.css&#39;</span>
<span class="token comment">// æ‰“åŒ…å›¾ç‰‡</span>

<span class="token keyword">function</span> <span class="token function">packImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆ›å»ºä¸€ä¸ªå®¹å™¨</span>
    <span class="token keyword">const</span> oEle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
    <span class="token comment">// åˆ›å»ºimgæ ‡ç­¾ è®¾ç½®srcå±æ€§</span>
    <span class="token keyword">const</span> oImg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;img&#39;</span><span class="token punctuation">)</span>
    oImg<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">400</span>
    oImg<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../img/logo.png&#39;</span><span class="token punctuation">)</span>
    oEle<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>oImg<span class="token punctuation">)</span>

    <span class="token comment">// è®¾ç½®èƒŒæ™¯å›¾ç‰‡</span>
    <span class="token keyword">const</span> oBgImg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
    oBgImg<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&#39;bgBOX&#39;</span>
    oEle<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>oBgImg<span class="token punctuation">)</span>
    <span class="token keyword">return</span> oEle
<span class="token punctuation">}</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token function">packImg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-css line-numbers-mode" data-ext="css" data-title="css"><pre class="language-css"><code><span class="token selector">// img.css
.bgBOX</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #000<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&#39;../img/å£çº¸.jpeg&#39;</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜</strong>ï¼š</p><p>å½“css-loaderå¤„ç†urlæ—¶ï¼Œé»˜è®¤è½¬æ¢ä¸ºrequireé»˜è®¤è¿”å›ä¸€ä¸ªesModuleï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå¯¼è‡´å›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­å†™å…¥å‚æ•°é…ç½®</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">loader</span><span class="token operator">:</span><span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">options</span><span class="token operator">:</span><span class="token punctuation">{</span>
                    <span class="token literal-property property">importLoaders</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> 
                    <span class="token literal-property property">esModule</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// å¤„ç†å¯èƒ½çš„é—®é¢˜</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è®¾ç½®æ‰“åŒ…åçš„å›¾ç‰‡åç§°ä¸è¾“å‡ºåœ¨å“ªä¸ªæ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#è®¾ç½®æ‰“åŒ…åçš„å›¾ç‰‡åç§°ä¸è¾“å‡ºåœ¨å“ªä¸ªæ–‡ä»¶"><span>è®¾ç½®æ‰“åŒ…åçš„å›¾ç‰‡åç§°ä¸è¾“å‡ºåœ¨å“ªä¸ªæ–‡ä»¶</span></a></h4><p><code>file-loader</code>ä¸­çš„é…ç½®å‚æ•°</p><p>å ä½ç¬¦ï¼š</p><ul><li><code>[ext]</code>ï¼šæ‰©å±•å</li><li><code>[name]</code>ï¼šæ–‡ä»¶å</li><li><code>[hash]</code>ï¼šæ–‡ä»¶å†…å®¹ï¼ˆä½¿ç”¨ä¸€ä¸ªç®—æ³•å†™æˆå­—æ¯å’Œæ•°å­—çš„å½¢å¼ï¼‰</li><li><code>[contrntHash]</code>ï¼šä¸æ–‡ä»¶å†…å®¹ç›¸åŒ</li><li><code>[hash:&lt;length&gt;]</code>ï¼šæ§åˆ¶hashå­—ç¬¦çš„é•¿åº¦</li><li><code>[path]</code>ï¼šé…ç½®æ–‡ä»¶è·¯å¾„ï¼ˆä¸å¸¸ä½¿ç”¨ï¼‰</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>  <span class="token punctuation">{</span>
     <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jepg|svg|gif?g)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
         <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
             <span class="token punctuation">{</span>
                 <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;file-loader&#39;</span><span class="token punctuation">,</span>
                 <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token comment">// name: &#39;[name].[hash:6].[ext]&#39;, </span>
                    <span class="token comment">// outputPath: &#39;img&#39; // è®¾ç½®å›¾ç‰‡æ‰“åŒ…åçš„è·¯å¾„ï¼Œå¯ä»¥å†™æˆä¸‹é¢å½¢å¼</span>
                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;img/[name].[hash:6].[ext]&#39;</span><span class="token punctuation">,</span>
                 <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="url-loaderå¤„ç†å›¾ç‰‡" tabindex="-1"><a class="header-anchor" href="#url-loaderå¤„ç†å›¾ç‰‡"><span>url-loaderå¤„ç†å›¾ç‰‡</span></a></h4><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code> <span class="token punctuation">{</span>
     <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jepg|svg|gif?g)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
         <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
             <span class="token punctuation">{</span>
                 <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;url-loader&#39;</span><span class="token punctuation">,</span>
                 <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;img/[name].[hash:6].[ext]&#39;</span><span class="token punctuation">,</span>
                 <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒºåˆ«ï¼š</p><ul><li>url-loaderæ˜¯å°†å›¾ç‰‡ä»¥ base64 uriçš„å½¢å¼åŠ å…¥åˆ°æ–‡ä»¶å½“ä¸­ï¼Œå¯ä»¥å‡å°‘è¯·æ±‚çš„æ¬¡æ•°</li><li>file-loader å°†èµ„æºæ‹·è´è‡³æŒ‡å®šçš„ç›®å½•ï¼Œåˆ†å¼€è¯·æ±‚</li></ul><p>è”ç³»ï¼š url-loaderå†…éƒ¨å…¶å®ä¹Ÿå¯ä»¥è°ƒç”¨ file-loaderï¼Œæœ‰ä¸ªå±æ€§limitè®¾ç½®é™åˆ¶ï¼Œå¯ä»¥å†³å®šä»€ä¹ˆæ—¶å€™è°ƒç”¨file-loader</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code> <span class="token punctuation">{</span>
     <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jepg|svg|gif?g)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
         <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
             <span class="token punctuation">{</span>
                 <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;url-loader&#39;</span><span class="token punctuation">,</span>
                 <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;img/[name].[hash:6].[ext]&#39;</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">25</span> <span class="token operator">*</span> <span class="token number">1024</span>
                 <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>limit</code> è¡¨ç¤ºå°äº25kbå°±ä»¥base64åŠ å…¥æ–‡ä»¶ï¼Œå¤§äº25kbå°±æ‹·è´è‡³ç›®å½•</p><h3 id="_9-assetèµ„æºæ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_9-assetèµ„æºæ¨¡å—"><span>9.assetèµ„æºæ¨¡å—</span></a></h3><p>ï¼ˆwebpack5å†…ç½®ï¼‰å¯ä»¥å‡å°‘file-loaderå’Œurl-loaderçš„ä½¿ç”¨</p><p><strong>å¸¸è§çš„é…ç½®é€‰é¡¹</strong></p><ul><li>asset/resource &gt;&gt;&gt; file-loader</li><li>asset/inline &gt;&gt;&gt; url-loader</li><li>asset/source &gt;&gt;&gt; raw-loader</li></ul><h4 id="assetå¤„ç†å›¾ç‰‡" tabindex="-1"><a class="header-anchor" href="#assetå¤„ç†å›¾ç‰‡"><span>assetå¤„ç†å›¾ç‰‡</span></a></h4><p><code>asset/resource</code>çš„ä½¿ç”¨ï¼ˆåŠŸèƒ½ä¸file-loaderç›¸åŒçš„ï¼‰</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code> <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">//é…ç½®assetèµ„æºæ–‡ä»¶çš„è·¯å¾„ï¼Œç±»ä¼¼å…¨å±€ï¼Œå¯èƒ½å…¶ä»–çš„èµ„æºä¹Ÿæ‰“åŒ…åœ¨ä¸€èµ·ï¼ˆä¸å¤ªåˆé€‚ï¼‰</span>
      <span class="token literal-property property">assetModuleFilename</span><span class="token operator">:</span><span class="token string">&#39;img/[name].[hash:4][ext]&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>


<span class="token comment">// åœ¨rulesä¸­çš„é…ç½®</span>
<span class="token punctuation">{</span>
    <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpeg|svg|gif?g)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/resource&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>assetModuleFilename</code>å¯èƒ½ä¼šå¯¼è‡´å…¶ä»–çš„èµ„æºä¸€åŒæ‰“åŒ…åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸‹ï¼Œæ‰€ä»¥æ¨èä¸‹é¢çš„å†™æ³•</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpeg|svg|gif?g)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/resource&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;img/[name].[hash:4][ext]&#39;</span><span class="token punctuation">,</span> <span class="token comment">//æ³¨æ„æ‰“åŒ…åç¼€ä¼šè‡ªåŠ¨æ·»åŠ ä¸€ä¸ªç‚¹ï¼Œæ‰€ä»¥ä¸ç”¨æ‰‹åŠ¨åŠ </span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>asset/inline</code>çš„ä½¿ç”¨</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpeg|svg|gif?g)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/inline&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>assetè®¾ç½®é™åˆ¶ä¸<code>limit</code>å±æ€§ç›¸åŒçš„åŠŸèƒ½</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpeg|svg|gif?g)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        	<span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;img/[name].[hash:4][ext]&#39;</span><span class="token punctuation">,</span> 
        <span class="token punctuation">}</span>
        <span class="token literal-property property">parser</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">dataUrlCondition</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">maxSize</span><span class="token operator">:</span> <span class="token number">30</span> <span class="token operator">*</span> <span class="token number">1024</span>
          		<span class="token punctuation">}</span>
   		<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>parser</code>çš„dataUrlConditioné…ç½®ï¼Œå½“å°äº30kbæ—¶ï¼Œå›¾ç‰‡èµ„æºä»¥base64å½¢å¼åŠ å…¥æ–‡ä»¶å½“ä¸­ï¼Œå¤§äº30kbå°±æ‹·è´åˆ°ç›¸åº”çš„imgæ–‡ä»¶ä¸‹</p><h4 id="assetå¤„ç†å­—ä½“" tabindex="-1"><a class="header-anchor" href="#assetå¤„ç†å­—ä½“"><span>assetå¤„ç†å­—ä½“</span></a></h4><p>ä¸å›¾ç‰‡ç±»ä¼¼çš„</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(ttf|woff2|eot?)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/resource&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        	<span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;font/[name].[hash:3][ext]&#39;</span><span class="token punctuation">,</span> 
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10-æ’ä»¶çš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_10-æ’ä»¶çš„ä½¿ç”¨"><span>10. æ’ä»¶çš„ä½¿ç”¨</span></a></h3><p>pluginä¸loaderçš„å¯¹æ¯”ï¼š</p><p>loader æ˜¯åœ¨æŸä¸ªç‰¹å®šçš„æ—¶é—´å»è½¬æ¢ç‰¹å®šçš„ç±»å‹</p><p>pluginå¯ä»¥åšæ›´å¤šçš„äº‹æƒ…ï¼Œè´¯ç©¿æ•´ä¸ªwebpackçš„ä½¿ç”¨å‘¨æœŸ</p><p>ä½¿ç”¨è¯­æ³•ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> ClearWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;clean-webpack-plugin&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token keyword">new</span> <span class="token class-name">ClearWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ’ä»¶æœ¬è´¨æ˜¯ä¸€ä¸ªç±»ï¼Œä½¿ç”¨new</p><h4 id="cleanwebpackpluginæ’ä»¶" tabindex="-1"><a class="header-anchor" href="#cleanwebpackpluginæ’ä»¶"><span>CleanWebpackPluginæ’ä»¶</span></a></h4><p>å¯ä»¥æ¯æ¬¡æ‰“åŒ…ååˆ æ‰å‰ä¸€ä¸ªæ‰“åŒ…çš„æ–‡ä»¶ï¼Œç”Ÿæˆæ–°çš„æ‰“åŒ…æ–‡ä»¶ã€‚ä¸éœ€è¦å‚æ•°</p><h4 id="htmlwebpackpluginæ’ä»¶" tabindex="-1"><a class="header-anchor" href="#htmlwebpackpluginæ’ä»¶"><span>HtmlWebpackPluginæ’ä»¶</span></a></h4><p>ç”Ÿæˆå…¥å£index.htmlæ–‡ä»¶</p><figure><img src="https://raw.githubusercontent.com/molimaMCc/Image/main/imgs/image-20221029220903942.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>å‚æ•°ï¼š</p><p>titleï¼šç½‘é¡µçš„æ ‡é¢˜</p><p>templateï¼šè‡ªå®šä¹‰çš„æ¨¡æ¿ï¼ˆindex.htmlï¼‰åƒvueå’Œreactéƒ½æœ‰è‡ªå·±è®¾ç½®çš„æ¨¡æ¿ï¼Œæ”¾åœ¨publicé™æ€æ–‡ä»¶ä¸­ã€‚</p><h4 id="defineplugin" tabindex="-1"><a class="header-anchor" href="#defineplugin"><span>DefinePlugin</span></a></h4><p>å†…ç½®çš„æ’ä»¶ï¼šå¯ä»¥è®¾ç½®å…¨å±€çš„å¸¸é‡æˆ–å˜é‡</p><p>æ³¨æ„ç‚¹ï¼š<code>{ a : &#39;plugin&#39;}</code> ä¼šæŠŠpluginå®Œå…¨äº¤å‡ºå»ï¼Œæ‰€ä»¥å¦‚æœæƒ³è¦é‡Œé¢æ˜¯ä¸ªå­—ç¬¦ä¸²ï¼Œè¿˜éœ€è¦å†™æˆ<code>{ a : &#39;&quot;plugin&quot;&#39;}</code></p><h4 id="copywebpackplugin" tabindex="-1"><a class="header-anchor" href="#copywebpackplugin"><span>copyWebpackPlugin</span></a></h4><p>æ‹·è´é™æ€èµ„æºæ”¾å…¥æ‰“åŒ…åçš„æ–‡ä»¶</p><p>åŸºæœ¬é…ç½®</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">copyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">patterns</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token string">&#39;public&#39;</span><span class="token punctuation">,</span> 
            <span class="token literal-property property">globOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">ignore</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;**/index.html&#39;</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>from</code>é…ç½®è¦çš„åŒ…çš„æ–‡ä»¶</p><p><code>to</code>æ‹·è´çš„èµ„æºæ”¾åˆ°å“ªä¸ªåœ°æ–¹ï¼Œå¯ä»¥ä¸å†™ï¼Œé»˜è®¤å»æ‰¾outputçš„è¾“å‡ºæ–‡ä»¶</p><p><code>ignore</code>é…ç½®æ˜¯å› ä¸ºHtmlWebpackPluginæ’ä»¶å·²ç»æ‰“åŒ…äº†index.htmlæ–‡ä»¶äº†ï¼Œä¸éœ€è¦å†è¾“å‡ºæ‰“åŒ…ï¼Œignoreå±æ€§å¯ä»¥å¿½ç•¥æ‰é™æ€èµ„æºé‡Œçš„ä¸€äº›æ–‡ä»¶ã€‚æ³¨æ„ç‚¹ï¼š[&#39;**/index.html&#39;]è¡¨ç¤ºåœ¨publicï¼ˆfromï¼‰ä¸‹çš„index.htmlæ–‡ä»¶ï¼Œå‰é¢è¦ç”¨<code>**</code>è¡¨ç¤º</p><h3 id="_11-babelçš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_11-babelçš„ä½¿ç”¨"><span>11.babelçš„ä½¿ç”¨</span></a></h3><h4 id="babelæ ¸å¿ƒåŸç†" tabindex="-1"><a class="header-anchor" href="#babelæ ¸å¿ƒåŸç†"><span>babelæ ¸å¿ƒåŸç†</span></a></h4><p><code>babel</code>èƒ½å¤Ÿå°†JSXï¼ŒTSï¼ŒES6+ç­‰è¯­æ³•å¤„ç†ä¸ºæµè§ˆå™¨æ”¯æŒçš„å…¼å®¹è¯­æ³•ï¼ˆES5ï¼‰</p><p>babelä¸postcssç›¸ä¼¼ï¼Œéƒ½æ˜¯ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„å·¥å…·</p><p>ç°åœ¨babelå¾®å†…æ ¸ç»“æ„ï¼Œä½¿ç”¨çš„æ—¶å€™ä¸‹è½½å®ƒçš„æ ¸å¿ƒ</p><p><code>npm i @babel/core</code></p><p>ä¸èƒ½ç›´æ¥åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ï¼Œéœ€è¦å®‰è£…æŒ‡ä»¤</p><p><code>npm i @babel/cli</code></p><p>ä½†ç°åœ¨è¿˜ä¸èƒ½å¤„ç†é«˜ç‰ˆæœ¬çš„JSæˆ–TSè¯­è¨€ï¼Œéœ€è¦å®‰è£…ç›¸åº”çš„æ’ä»¶å¤„ç†æŸäº›åŠŸèƒ½</p><p>ä½†æ˜¯å¤„ç†ä¸€é¡¹åŠŸèƒ½çš„å°±ä¸‹è½½ä¸€ä¸ªpluginä¼šå¾ˆéº»çƒ¦ï¼Œæ‰€ä»¥å¯ä»¥å®‰è£…<strong>é¢„è®¾</strong></p><p><code>@babel/preset-env</code></p><h4 id="babel-loaderåœ¨webpackä¸­çš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#babel-loaderåœ¨webpackä¸­çš„ä½¿ç”¨"><span>babel-loaderåœ¨webpackä¸­çš„ä½¿ç”¨</span></a></h4><p><code>npm i babel-loader</code></p><p>å®‰è£…babel-loaderåå¹¶ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œå¯ä»¥å®‰è£…ç›¸åº”çš„æ’ä»¶æˆ–é¢„è®¾</p><p><strong>æ’ä»¶</strong></p><figure><img src="https://raw.githubusercontent.com/molimaMCc/Image/main/imgs/image-20221030165335219.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p><strong>é¢„è®¾</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="babelçš„é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#babelçš„é…ç½®æ–‡ä»¶"><span>babelçš„é…ç½®æ–‡ä»¶</span></a></h4><p>åœ¨babel7ç‰ˆæœ¬ä¹‹å‰ä½¿ç”¨çš„æ˜¯<code>babelrc.js(json)</code></p><p>7ç‰ˆæœ¬ä¹‹åä½¿ç”¨<code>babel.config.js(json cjs mjs)</code></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨webpack.config.jsæ–‡ä»¶å°±åªéœ€å‘ä¸‹é¢çš„å†™æ³•</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
    <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæœ‰targetså‚æ•°çš„è¯ä¼˜å…ˆèµ°targetsæŒ‡å®šçš„æµè§ˆå™¨,æ¨èä½¿ç”¨çš„æ˜¯browserslistrcæ–‡ä»¶çš„é…ç½®</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span>
    		<span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">targets</span><span class="token operator">:</span> <span class="token string">&#39;chrom 91&#39;</span>
            <span class="token punctuation">}</span>
    	<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_12-polyfillçš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_12-polyfillçš„ä½¿ç”¨"><span>12.polyfillçš„ä½¿ç”¨</span></a></h3><p>polyfillæ˜¯ä»€ä¹ˆï¼Ÿ</p><p>@babel/preset-envé¢„è®¾èƒ½å¤Ÿè½¬æ¢é«˜ç­‰çº§çš„jsä»£ç ï¼Œä½†æ˜¯èƒ½åšåˆ°çš„æœ‰é™ï¼Œjsè¿˜æœ‰ä¸€äº›æ–°çš„è¯­æ³•å¹¶ä¸èƒ½è½¬åŒ–ï¼Œæ‰€ä»¥éœ€è¦polyfillå¡«å……ã€‚</p><p>åœ¨webpack5ä¹‹å‰ä¸éœ€è¦é…ç½®ï¼ˆè‡ªåŠ¨é…ç½®å¥½äº†ï¼‰ï¼Œ5ä¹‹åéœ€è¦æ‰‹åŠ¨é…ç½®ã€‚</p><p>åœ¨babel7ä¹‹å‰å¯ä»¥ç›´æ¥å®‰è£…<code>@babel/polyfill</code>,ç°åœ¨ä¸æ¨èç›´æ¥å®‰è£…ï¼Œç°åœ¨å¯æ‹†ä¸ºäº†</p><p><code>core-js</code>å’Œ<code>regenerator-runtime</code></p><p>åœ¨babelçš„é…ç½®æ–‡ä»¶çš„å†™æ³•å¦‚ä¸‹</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span>
    		<span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token literal-property property">useBuiltIns</span><span class="token operator">:</span> <span class="token string">&#39;usage&#39;</span><span class="token punctuation">,</span>
              <span class="token literal-property property">corejs</span><span class="token operator">:</span> <span class="token number">3</span>
            <span class="token punctuation">}</span>
    	<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>useBuiltIns</code>å±æ€§æœ‰ä¸‰ä¸ªé€‰é¡¹</p><p><code>false</code>è¡¨ç¤ºä¸å¯¹å½“å‰çš„JSå¤„ç†åšpolyfillçš„å¡«å……</p><p><code>usage</code>è¡¨ç¤ºä¾æ®ç”¨æˆ·æºä»£ç å½“ä¸­æ‰€ä½¿ç”¨åˆ°çš„æ–°è¯­æ³•è¿›è¡Œå¡«å……</p><p><code>entry</code>è¡¨ç¤ºä¾æ®åŒ¹é…å…¼å®¹æµè§ˆå™¨ä¸­æ‰€è¦çš„æ–°è¯­æ³•è¿›è¡Œå¡«å……ï¼ˆä¸ç®¡æºä»£ç æœ‰æ²¡æœ‰ï¼‰</p><p>æ³¨æ„ç‚¹ï¼šä½¿ç”¨usageæ—¶ï¼Œcore-jsç‰ˆæœ¬é»˜è®¤æ˜¯2ï¼Œæ‰€ä»¥éœ€è¦è®¾ç½®corejsï¼š 3ï¼ˆ3æ˜¯å®‰è£…çš„ç‰ˆæœ¬ï¼‰</p><h3 id="_13-webpack-dev-server" tabindex="-1"><a class="header-anchor" href="#_13-webpack-dev-server"><span>13.webpack-dev-server</span></a></h3><p>æ‰“åŒ…çš„watchæ¨¡å¼ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­å†™å…¥</p><p>watch: true</p><p>ä¸è¶³ç‚¹</p><ul><li>æ‰€æœ‰æºä»£ç ä¼šé‡æ–°ç¼–è¯‘</li><li>æ¯æ¬¡ç¼–è¯‘éƒ½éœ€è¦æ–‡ä»¶è¯»å†™</li><li>ä¸èƒ½å±€éƒ¨æ›´æ–°</li><li>webpackå…·æœ‰ç›´æ¥çš„live serverçš„åŠŸèƒ½</li></ul><p>webpack-dev-serverçš„ä¼˜ç‚¹</p><ul><li>æ–‡ä»¶æ”¾å…¥å†…å­˜ï¼Œä¸éœ€è¦æ“ä½œç£ç›˜ï¼ˆæ–‡ä»¶çš„è¯»å†™ï¼‰</li><li>çƒ­æ›´æ–°</li><li>ä¸éœ€è¦å®‰è£…live serveræ’ä»¶</li></ul><h4 id="_13-1-hmråŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#_13-1-hmråŠŸèƒ½"><span>13.1 HMRåŠŸèƒ½</span></a></h4><p>å½“modeå¤„äºå¼€å‘æ¨¡å¼çš„æ—¶å€™ï¼Œåº”è¯¥å…ˆå°†.browserslistrcæ–‡ä»¶å±è”½æ‰</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;web&#39;</span><span class="token punctuation">,</span> <span class="token comment">// å±è”½browserslistrc</span>
    <span class="token literal-property property">devServer</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å¼€å¯çƒ­æ›´æ–° ä½†æ˜¯è¿˜æ˜¯é»˜è®¤åˆ·æ–°æ•´ä¸ªé¡µé¢</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰€ä»¥å¦‚æœè¦å®è¡Œå±€éƒ¨çƒ­æ›´æ–°è¿˜éœ€è¦åœ¨å…¥å£æ–‡ä»¶ä¸­è®¾ç½®</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// index.js</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;éœ€è¦çƒ­æ›´æ–°çš„æ¨¡å—&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>fn<span class="token punctuation">)</span><span class="token comment">//fn å›è°ƒå‡½æ•°å¯ä»¥å¯¹åç»­ä¸šåŠ¡é€»è¾‘çš„å¤„ç†</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_13-2-vueç»„ä»¶æ”¯æŒçƒ­æ›´æ–°" tabindex="-1"><a class="header-anchor" href="#_13-2-vueç»„ä»¶æ”¯æŒçƒ­æ›´æ–°"><span>13.2 VUEç»„ä»¶æ”¯æŒçƒ­æ›´æ–°</span></a></h4><p>å‡†å¤‡å·¥ä½œå®‰è£…vue-loaderï¼Œvue-template-compiler</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">module</span><span class="token operator">:</span><span class="token punctuation">{</span>
		<span class="token literal-property property">rule</span><span class="token operator">:</span><span class="token punctuation">[</span>
			<span class="token punctuation">{</span>
			 <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue$</span><span class="token regex-delimiter">/</span></span>
			 <span class="token literal-property property">use</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&#39;vue-loader&#39;</span><span class="token punctuation">]</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vue-loaderåœ¨15ç‰ˆæœ¬ä»¥å‰ï¼ˆä¸åŒ…æ‹¬15ï¼‰ä¸éœ€è¦ç‹¬è‡ªé…ç½®æ’ä»¶ï¼ˆvue-loaderåŒ…é‡Œé¢ï¼‰<strong>VueLoaderPlugin</strong>ï¼Œåœ¨15ç‰ˆæœ¬åå°±éœ€è¦ç»„ä»¶é…ç½®ã€‚16ç‰ˆæœ¬å¯¹åº”çš„æ—¶vue3ç‰ˆæœ¬</p><h4 id="å¸¸ç”¨é…ç½®" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨é…ç½®"><span>å¸¸ç”¨é…ç½®</span></a></h4><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">4000</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hotOnly</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">compress</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>portï¼šæŒ‡å®šç«¯å£å¼€å¯æœåŠ¡</p><p>hotOnlyï¼šå½“ä¾èµ–çš„ä»£ç æŠ¥é”™æ—¶ï¼Œæ›´æ”¹å›æ¥çš„æ—¶å€™é¡µé¢æ—¶æ•´ä¸ªé¡µé¢åˆ·æ–°ï¼Œå¦‚æœå…¶ä»–çš„ç»„ä»¶æ²¡å†™çŠ¶æ€å·²ç»å‘ç”Ÿæ”¹å˜ï¼Œé‚£ä¹ˆçŠ¶æ€ä¼šåˆå§‹åŒ–ï¼Œæƒ³è®©å‡ºé”™è¯¯çš„é‚£ä¸ªæ¨¡å—è¿›è¡Œæ›´æ–°ã€‚</p><p>compressï¼šå¯ä»¥å‹ç¼©èµ„æºåå†è¿”å›ç»™å®¢æˆ·ç«¯</p><p>historyApiFallback: è§£å†³vueæˆ–reactè·¯ç”±çš„historyæ¨¡å¼çš„404é—®é¢˜ï¼Œå¯ä»¥ä¼ å¯¹è±¡ rewritesé…ç½®</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">historyApiFallback</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">rewrites</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;/views/landing.html&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/subpage</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;/views/subpage.html&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;/views/404.html&#39;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_14-è¾“å‡º" tabindex="-1"><a class="header-anchor" href="#_14-è¾“å‡º"><span>14.è¾“å‡º</span></a></h3><h4 id="outputä¸‹çš„path" tabindex="-1"><a class="header-anchor" href="#outputä¸‹çš„path"><span>outputä¸‹çš„path</span></a></h4><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code> <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span> <span class="token comment">// æ–‡ä»¶å</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;/home/proj/public/assets&#39;</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>filename</code> ç”¨äºè¾“å‡ºæ–‡ä»¶çš„æ–‡ä»¶åã€‚</li><li>ç›®æ ‡è¾“å‡ºç›®å½• <code>path</code> çš„ç»å¯¹è·¯å¾„ã€‚</li></ul><p><strong>path</strong>ï¼šè¾“å‡ºæ–‡ä»¶çš„æ€»å‡ºå£</p><p><strong>publicPath</strong>ï¼š(index.htmlçš„å¼•ç”¨è·¯å¾„) è§„åˆ™ï¼šåŸŸå+publicPathçš„å€¼+ filename</p><h4 id="devserverä¸‹çš„path" tabindex="-1"><a class="header-anchor" href="#devserverä¸‹çš„path"><span>devServerä¸‹çš„path</span></a></h4><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span>   <span class="token comment">//æŒ‡å®šæœåŠ¡å™¨æ‰€åœ¨ç›®å½•ï¼Œé»˜è®¤å€¼ / </span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ²¡æœ‰ç»è¿‡webpackå¤„ç†ï¼Œæ²¡åœ¨æ‰“åŒ…åçš„èµ„æºé‡Œï¼Œä½†æ˜¯æ‰“åŒ…åçš„èµ„æºåˆä¾èµ–äºè¿™ä¸ªèµ„æºï¼ŒcontentBaseå¯ä»¥å‘Šè¯‰å»å“ªæ‰¾</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;public&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>watchContentBase:true</strong></p><p>å¯ä»¥è®©æµè§ˆå™¨æ£€æµ‹åˆ° contentBaseå¼•ç”¨çš„èµ„æºæ›´æ”¹åšçƒ­æ›´æ–°</p><h3 id="_15-é¡¹ç›®ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_15-é¡¹ç›®ä¼˜åŒ–"><span>15.é¡¹ç›®ä¼˜åŒ–</span></a></h3><h4 id="_15-1æå‡å¼€å‘ä½“éªŒ" tabindex="-1"><a class="header-anchor" href="#_15-1æå‡å¼€å‘ä½“éªŒ"><span>15.1æå‡å¼€å‘ä½“éªŒ</span></a></h4><h5 id="sourcemap" tabindex="-1"><a class="header-anchor" href="#sourcemap"><span>SourceMap</span></a></h5><p>SourceMapï¼ˆæºä»£ç æ˜ å°„ï¼‰æ˜¯ä¸€ä¸ªç”¨æ¥ç”Ÿæˆæºä»£ç ä¸æ„å»ºåä»£ç ä¸€ä¸€æ˜ å°„çš„æ–‡ä»¶çš„æ–¹æ¡ˆ</p><p>ä½œç”¨ï¼š</p><p>å®ƒä¼šç”Ÿæˆä¸€ä¸ª xxx.map æ–‡ä»¶ï¼Œé‡Œé¢åŒ…å«æºä»£ç å’Œæ„å»ºåä»£ç æ¯ä¸€è¡Œã€æ¯ä¸€åˆ—çš„æ˜ å°„å…³ç³»ã€‚å½“æ„å»ºåä»£ç å‡ºé”™äº†ï¼Œä¼šé€šè¿‡ xxx.map æ–‡ä»¶ï¼Œä»æ„å»ºåä»£ç å‡ºé”™ä½ç½®æ‰¾åˆ°æ˜ å°„åæºä»£ç å‡ºé”™ä½ç½®ï¼Œä»è€Œè®©æµè§ˆå™¨æç¤ºæºä»£ç æ–‡ä»¶å‡ºé”™ä½ç½®ï¼Œå¸®åŠ©æˆ‘ä»¬æ›´å¿«çš„æ‰¾åˆ°é”™è¯¯æ ¹æºã€‚</p><p>å€¼æœ‰å¾ˆå¤šæƒ…å†µï¼Œæˆ‘ä»¬å…³æ³¨ä¸¤ç§å³å¯</p><p>å¼€å‘æ¨¡å¼ï¼š<code>cheap-module-source-map</code></p><ul><li>ä¼˜ç‚¹ï¼šæ‰“åŒ…ç¼–è¯‘é€Ÿåº¦å¿«ï¼ŒåªåŒ…å«è¡Œæ˜ å°„</li><li>ç¼ºç‚¹ï¼šæ²¡æœ‰åˆ—æ˜ å°„</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// å…¶ä»–çœç•¥</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&quot;cheap-module-source-map&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”Ÿäº§æ¨¡å¼ï¼š<code>source-map</code></p><ul><li>ä¼˜ç‚¹ï¼šåŒ…å«è¡Œ/åˆ—æ˜ å°„</li><li>ç¼ºç‚¹ï¼šæ‰“åŒ…ç¼–è¯‘é€Ÿåº¦æ›´æ…¢</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// å…¶ä»–çœç•¥</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&quot;source-map&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_15-2æå‡æ‰“åŒ…æ„å»ºé€Ÿåº¦" tabindex="-1"><a class="header-anchor" href="#_15-2æå‡æ‰“åŒ…æ„å»ºé€Ÿåº¦"><span>15.2æå‡æ‰“åŒ…æ„å»ºé€Ÿåº¦</span></a></h4><h5 id="hotmodulereplacement" tabindex="-1"><a class="header-anchor" href="#hotmodulereplacement"><span>HotModuleReplacement</span></a></h5><p>**ç›®çš„ï¼š**å¼€å‘æ—¶æˆ‘ä»¬ä¿®æ”¹äº†å…¶ä¸­ä¸€ä¸ªæ¨¡å—ä»£ç ï¼ŒWebpack é»˜è®¤ä¼šå°†æ‰€æœ‰æ¨¡å—å…¨éƒ¨é‡æ–°æ‰“åŒ…ç¼–è¯‘ï¼Œé€Ÿåº¦å¾ˆæ…¢ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦åšåˆ°ä¿®æ”¹æŸä¸ªæ¨¡å—ä»£ç ï¼Œå°±åªæœ‰è¿™ä¸ªæ¨¡å—ä»£ç éœ€è¦é‡æ–°æ‰“åŒ…ç¼–è¯‘ï¼Œå…¶ä»–æ¨¡å—ä¸å˜ï¼Œè¿™æ ·æ‰“åŒ…é€Ÿåº¦å°±èƒ½å¾ˆå¿«ã€‚</p><p><strong>ä½œç”¨ï¼š</strong></p><p>HotModuleReplacementï¼ˆHMR/çƒ­æ¨¡å—æ›¿æ¢ï¼‰ï¼šåœ¨ç¨‹åºè¿è¡Œä¸­ï¼Œæ›¿æ¢ã€æ·»åŠ æˆ–åˆ é™¤æ¨¡å—ï¼Œè€Œæ— éœ€é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢ã€‚</p><p><strong>ä½¿ç”¨ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// å…¶ä»–çœç•¥</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å¯åŠ¨æœåŠ¡å™¨åŸŸå</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token string">&quot;3000&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å¯åŠ¨æœåŠ¡å™¨ç«¯å£å·</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å¼€å¯HMRåŠŸèƒ½ï¼ˆåªèƒ½ç”¨äºå¼€å‘ç¯å¢ƒï¼Œç”Ÿäº§ç¯å¢ƒä¸éœ€è¦äº†ï¼‰</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ—¶ css æ ·å¼ç»è¿‡ style-loader å¤„ç†ï¼Œå·²ç»å…·å¤‡ HMR åŠŸèƒ½äº†ã€‚ ä½†æ˜¯ js è¿˜ä¸è¡Œã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// main.js</span>
<span class="token keyword">import</span> count <span class="token keyword">from</span> <span class="token string">&quot;./js/count&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> sum <span class="token keyword">from</span> <span class="token string">&quot;./js/sum&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// å¼•å…¥èµ„æºï¼ŒWebpackæ‰ä¼šå¯¹å…¶æ‰“åŒ…</span>
<span class="token keyword">import</span> <span class="token string">&quot;./css/iconfont.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;./css/index.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;./less/index.less&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;./sass/index.sass&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;./sass/index.scss&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;./styl/index.styl&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> result1 <span class="token operator">=</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result2 <span class="token operator">=</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// åˆ¤æ–­æ˜¯å¦æ”¯æŒHMRåŠŸèƒ½</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string">&quot;./js/count.js&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">count</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> result1 <span class="token operator">=</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string">&quot;./js/sum.js&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">sum</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> result2 <span class="token operator">=</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å®é™…å¼€å‘ä¸­ä¼šä½¿ç”¨å…¶ä»–çš„loaderè§£å†³ï¼Œä¾‹å¦‚ï¼švue-loaderï¼Œreact-hot-loader</p></blockquote><h5 id="oneof" tabindex="-1"><a class="header-anchor" href="#oneof"><span>OneOf</span></a></h5><p>**ç›®çš„ï¼š**æ‰“åŒ…æ—¶æ¯ä¸ªæ–‡ä»¶éƒ½ä¼šç»è¿‡æ‰€æœ‰ loader å¤„ç†ï¼Œè™½ç„¶å› ä¸º <code>test</code> æ­£åˆ™åŸå› å®é™…æ²¡æœ‰å¤„ç†ä¸Šï¼Œä½†æ˜¯éƒ½è¦è¿‡ä¸€éã€‚æ¯”è¾ƒæ…¢ã€‚é¡¾åæ€ä¹‰å°±æ˜¯åªèƒ½åŒ¹é…ä¸Šä¸€ä¸ª loader, å‰©ä¸‹çš„å°±ä¸åŒ¹é…äº†ã€‚</p><p><strong>ä½¿ç”¨</strong>ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&quot;./src/main.js&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;static/js/main.js&quot;</span><span class="token punctuation">,</span> 
    <span class="token comment">// clean: true, </span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">oneOf</span><span class="token operator">:</span> <span class="token punctuation">[</span>  <span class="token comment">//åªä¼šå‘½ä¸­ä¸€ä¸ª</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;less-loader&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.s[ac]ss$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;sass-loader&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.styl$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;stylus-loader&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="include-exclude" tabindex="-1"><a class="header-anchor" href="#include-exclude"><span>Include/Exclude</span></a></h5><p>åŸå› ï¼šå¼€å‘æ—¶æˆ‘ä»¬éœ€è¦ä½¿ç”¨ç¬¬ä¸‰æ–¹çš„åº“æˆ–æ’ä»¶ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½ä¸‹è½½åˆ° node_modules ä¸­äº†ã€‚è€Œè¿™äº›æ–‡ä»¶æ˜¯ä¸éœ€è¦ç¼–è¯‘å¯ä»¥ç›´æ¥ä½¿ç”¨çš„ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨å¯¹ js æ–‡ä»¶å¤„ç†æ—¶ï¼Œè¦æ’é™¤ node_modules ä¸‹é¢çš„æ–‡ä»¶ã€‚</p><p><strong>include</strong></p><p>åŒ…å«ï¼Œåªå¤„ç† xxx æ–‡ä»¶</p><p><strong>exclude</strong></p><p>æ’é™¤ï¼Œé™¤äº† xxx æ–‡ä»¶ä»¥å¤–å…¶ä»–æ–‡ä»¶éƒ½å¤„ç†</p><p><strong>ä½¿ç”¨ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&quot;./src/main.js&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token operator">...</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">oneOf</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
            <span class="token comment">// exclude: /node_modules/, // æ’é™¤node_modulesä»£ç ä¸ç¼–è¯‘</span>
            <span class="token literal-property property">include</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// åªå¤„ç†srcä¸‹çš„æ–‡ä»¶ï¼Œå…¶ä»–æ–‡ä»¶ä¸å¤„ç†</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
	<span class="token keyword">new</span> <span class="token class-name">ESLintPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token comment">//æ£€æµ‹å“ªäº›æ–‡ä»¶</span>
			<span class="token literal-property property">context</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token literal-property property">exclude</span><span class="token operator">:</span><span class="token string">&quot;node_modules&quot;</span><span class="token punctuation">,</span> <span class="token comment">//é»˜è®¤å€¼</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="cache" tabindex="-1"><a class="header-anchor" href="#cache"><span>Cache</span></a></h5><p>**ç›®çš„ï¼š**æ¯æ¬¡æ‰“åŒ…æ—¶ js æ–‡ä»¶éƒ½è¦ç»è¿‡ Eslint æ£€æŸ¥ å’Œ Babel ç¼–è¯‘ï¼Œé€Ÿåº¦æ¯”è¾ƒæ…¢ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç¼“å­˜ä¹‹å‰çš„ Eslint æ£€æŸ¥ å’Œ Babel ç¼–è¯‘ç»“æœï¼Œè¿™æ ·ç¬¬äºŒæ¬¡æ‰“åŒ…æ—¶é€Ÿåº¦å°±ä¼šæ›´å¿«äº†ã€‚</p><p>**ä½œç”¨ï¼š**å¯¹ Eslint æ£€æŸ¥ å’Œ Babel ç¼–è¯‘ç»“æœè¿›è¡Œç¼“å­˜</p><p><strong>ä½¿ç”¨</strong></p><p>Babel ç¼“å­˜:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>  <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
          <span class="token literal-property property">include</span><span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;../src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
                      <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                          <span class="token comment">// presets: [&#39;@babel/preset-env&#39;]</span>
                          <span class="token literal-property property">cacheDirectory</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//å¼€å¯Babelç¼“å­˜</span>
                          <span class="token literal-property property">cacheCompression</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//å…³é—­ç¼“å­˜æ–‡ä»¶å‹ç¼©</span>
                      <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰“åŒ…æˆåŠŸä¼šåœ¨ node_modulesä¸­ç”Ÿæˆä¸€ä¸ª.cache ä¸‹ä¸€ä¸ªbabel-loaderç¼“å­˜æ–‡ä»¶</p><p>å¯¹pluginsä¸‹çš„ESlintç¼“å­˜:</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">ESLintPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token comment">//æ£€æµ‹å“ªäº›æ–‡ä»¶</span>
			<span class="token literal-property property">context</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token string">&quot;node_modules&quot;</span><span class="token punctuation">,</span> <span class="token comment">//é»˜è®¤å€¼</span>
			<span class="token literal-property property">cache</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//å¼€å¯ç¼“å­˜</span>
			<span class="token literal-property property">cacheLocation</span><span class="token operator">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">&#39;../node_modules/.cache/eslintcache&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//é…ç½®ç¼“å­˜è·¯å¾„</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="thead" tabindex="-1"><a class="header-anchor" href="#thead"><span>Thead</span></a></h5><p>**ç›®çš„ï¼š**å½“é¡¹ç›®è¶Šæ¥è¶Šåºå¤§æ—¶ï¼Œæ‰“åŒ…é€Ÿåº¦è¶Šæ¥è¶Šæ…¢ï¼Œç”šè‡³äºéœ€è¦ä¸€ä¸ªä¸‹åˆæ‰èƒ½æ‰“åŒ…å‡ºæ¥ä»£ç ã€‚è¿™ä¸ªé€Ÿåº¦æ˜¯æ¯”è¾ƒæ…¢çš„ã€‚</p><p>æˆ‘ä»¬æƒ³è¦ç»§ç»­æå‡æ‰“åŒ…é€Ÿåº¦ï¼Œå…¶å®å°±æ˜¯è¦æå‡ js çš„æ‰“åŒ…é€Ÿåº¦ï¼Œå› ä¸ºå…¶ä»–æ–‡ä»¶éƒ½æ¯”è¾ƒå°‘ã€‚è€Œå¯¹ js æ–‡ä»¶å¤„ç†ä¸»è¦å°±æ˜¯ eslint ã€babelã€Terser ä¸‰ä¸ªå·¥å…·ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æå‡å®ƒä»¬çš„è¿è¡Œé€Ÿåº¦ã€‚æˆ‘ä»¬å¯ä»¥å¼€å¯å¤šè¿›ç¨‹åŒæ—¶å¤„ç† js æ–‡ä»¶ï¼Œè¿™æ ·é€Ÿåº¦å°±æ¯”ä¹‹å‰çš„å•è¿›ç¨‹æ‰“åŒ…æ›´å¿«äº†ã€‚</p><p>**ä½œç”¨ï¼š**å¤šè¿›ç¨‹æ‰“åŒ…ï¼šå¼€å¯ç”µè„‘çš„å¤šä¸ªè¿›ç¨‹åŒæ—¶å¹²ä¸€ä»¶äº‹ï¼Œé€Ÿåº¦æ›´å¿«ã€‚</p><blockquote><p>éœ€è¦æ³¨æ„ï¼šè¯·ä»…åœ¨ç‰¹åˆ«è€—æ—¶çš„æ“ä½œä¸­ä½¿ç”¨ï¼Œå› ä¸ºæ¯ä¸ªè¿›ç¨‹å¯åŠ¨å°±æœ‰å¤§çº¦ä¸º 600ms å·¦å³å¼€é”€</p></blockquote><p>**ä½¿ç”¨ï¼š**å…ˆè·å–CPU çš„æ ¸æ•°</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token comment">// nodejsæ ¸å¿ƒæ¨¡å—ï¼Œç›´æ¥ä½¿ç”¨</span>
<span class="token keyword">const</span> os <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;os&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// cpuæ ¸æ•°</span>
<span class="token keyword">const</span> threads <span class="token operator">=</span> os<span class="token punctuation">.</span><span class="token function">cpus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹è½½åŒ…</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>npm i thread<span class="token operator">-</span>loader <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> os <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;os&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// cpuæ ¸æ•°</span>
<span class="token keyword">const</span> threads <span class="token operator">=</span> os<span class="token punctuation">.</span><span class="token function">cpus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&quot;./src/main.js&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
       <span class="token punctuation">{</span>
           <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
           <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
               <span class="token punctuation">{</span>
                   <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;thread-loader&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å¼€å¯å¤šè¿›ç¨‹</span>
                   <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                       <span class="token literal-property property">workers</span><span class="token operator">:</span> threads<span class="token punctuation">,</span> <span class="token comment">// æ•°é‡</span>
                   <span class="token punctuation">}</span><span class="token punctuation">,</span>
               <span class="token punctuation">}</span><span class="token punctuation">,</span>
           <span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_15-3å‡å°‘ä»£ç ä½“ç§¯" tabindex="-1"><a class="header-anchor" href="#_15-3å‡å°‘ä»£ç ä½“ç§¯"><span>15.3å‡å°‘ä»£ç ä½“ç§¯</span></a></h4><h5 id="treeshaking" tabindex="-1"><a class="header-anchor" href="#treeshaking"><span>TreeShaking</span></a></h5><p>**ç›®çš„ï¼š**å¼€å‘æ—¶æˆ‘ä»¬å®šä¹‰äº†ä¸€äº›å·¥å…·å‡½æ•°åº“ï¼Œæˆ–è€…å¼•ç”¨ç¬¬ä¸‰æ–¹å·¥å…·å‡½æ•°åº“æˆ–ç»„ä»¶åº“ã€‚å¦‚æœæ²¡æœ‰ç‰¹æ®Šå¤„ç†çš„è¯æˆ‘ä»¬æ‰“åŒ…æ—¶ä¼šå¼•å…¥æ•´ä¸ªåº“ï¼Œä½†æ˜¯å®é™…ä¸Šå¯èƒ½æˆ‘ä»¬å¯èƒ½åªç”¨ä¸Šæå°éƒ¨åˆ†çš„åŠŸèƒ½ã€‚è¿™æ ·å°†æ•´ä¸ªåº“éƒ½æ‰“åŒ…è¿›æ¥ï¼Œä½“ç§¯å°±å¤ªå¤§äº†</p><p>**ä½œç”¨ï¼š**Tree Shakingæ˜¯ä¸€ä¸ªæœ¯è¯­ï¼Œé€šå¸¸ç”¨äºæè¿°ç§»é™¤ JavaScript ä¸­çš„æ²¡æœ‰ä½¿ç”¨ä¸Šçš„ä»£ç ã€‚</p><blockquote><p><strong>æ³¨æ„ï¼šå®ƒä¾èµ– ES Moduleã€‚</strong></p></blockquote><p><strong>ä½¿ç”¨ï¼š</strong></p><p>Webpack å·²ç»é»˜è®¤å¼€å¯äº†è¿™ä¸ªåŠŸèƒ½ï¼Œæ— éœ€å…¶ä»–é…ç½®ã€‚</p><h5 id="babel" tabindex="-1"><a class="header-anchor" href="#babel"><span>Babel</span></a></h5><p>**ç›®çš„ï¼š**Babel ä¸ºç¼–è¯‘çš„æ¯ä¸ªæ–‡ä»¶éƒ½æ’å…¥äº†è¾…åŠ©ä»£ç ï¼Œä½¿ä»£ç ä½“ç§¯è¿‡å¤§ï¼Babel å¯¹ä¸€äº›å…¬å…±æ–¹æ³•ä½¿ç”¨äº†éå¸¸å°çš„è¾…åŠ©ä»£ç ï¼Œæ¯”å¦‚ <code>_extend</code>ã€‚é»˜è®¤æƒ…å†µä¸‹ä¼šè¢«æ·»åŠ åˆ°æ¯ä¸€ä¸ªéœ€è¦å®ƒçš„æ–‡ä»¶ä¸­ã€‚ä½ å¯ä»¥å°†è¿™äº›è¾…åŠ©ä»£ç ä½œä¸ºä¸€ä¸ªç‹¬ç«‹æ¨¡å—ï¼Œæ¥é¿å…é‡å¤å¼•å…¥ã€‚</p><p><strong>ä½œç”¨ï¼š</strong><code>@babel/plugin-transform-runtime</code>: ç¦ç”¨äº† Babel è‡ªåŠ¨å¯¹æ¯ä¸ªæ–‡ä»¶çš„ runtime æ³¨å…¥ï¼Œè€Œæ˜¯å¼•å…¥ <code>@babel/plugin-transform-runtime</code> å¹¶ä¸”ä½¿æ‰€æœ‰è¾…åŠ©ä»£ç ä»è¿™é‡Œå¼•ç”¨ã€‚</p><p><strong>ä½¿ç”¨ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>npm i @babel<span class="token operator">/</span>plugin<span class="token operator">-</span>transform<span class="token operator">-</span>runtime <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&quot;./src/main.js&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;static/js/main.js&quot;</span><span class="token punctuation">,</span> 
    <span class="token literal-property property">clean</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
              <span class="token punctuation">{</span>
                <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                  <span class="token literal-property property">cacheDirectory</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å¼€å¯babelç¼–è¯‘ç¼“å­˜</span>
                  <span class="token literal-property property">cacheCompression</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ç¼“å­˜æ–‡ä»¶ä¸è¦å‹ç¼©</span>
                  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/plugin-transform-runtime&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// å‡å°‘ä»£ç ä½“ç§¯</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="imageminimizer" tabindex="-1"><a class="header-anchor" href="#imageminimizer"><span>ImageMinimizer</span></a></h5><p>**ç›®çš„ï¼š**å¼€å‘å¦‚æœé¡¹ç›®ä¸­å¼•ç”¨äº†è¾ƒå¤šå›¾ç‰‡ï¼Œé‚£ä¹ˆå›¾ç‰‡ä½“ç§¯ä¼šæ¯”è¾ƒå¤§ï¼Œå°†æ¥è¯·æ±‚é€Ÿåº¦æ¯”è¾ƒæ…¢ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å¯¹å›¾ç‰‡è¿›è¡Œå‹ç¼©ï¼Œå‡å°‘å›¾ç‰‡ä½“ç§¯ã€‚</p><blockquote><p><strong>æ³¨æ„ï¼šå¦‚æœé¡¹ç›®ä¸­å›¾ç‰‡éƒ½æ˜¯åœ¨çº¿é“¾æ¥ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦äº†ã€‚æœ¬åœ°é¡¹ç›®é™æ€å›¾ç‰‡æ‰éœ€è¦è¿›è¡Œå‹ç¼©ã€‚</strong></p></blockquote><p><strong>ä½œç”¨ï¼š</strong><code>image-minimizer-webpack-plugin</code>: ç”¨æ¥å‹ç¼©å›¾ç‰‡çš„æ’ä»¶</p><p><strong>ä½¿ç”¨ï¼š</strong></p><p>ä¸‹è½½</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>npm i image<span class="token operator">-</span>minimizer<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin imagemin <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿˜æœ‰å‰©ä¸‹çš„åŒ…éœ€è¦ä¸‹è½½ï¼Œæœ‰ä¸¤ç§æ¨¡å¼:</p><p>1.æ— æŸå‹ç¼©</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>npm install imagemin<span class="token operator">-</span>gifsicle imagemin<span class="token operator">-</span>jpegtran imagemin<span class="token operator">-</span>optipng imagemin<span class="token operator">-</span>svgo <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2.æœ‰æŸå‹ç¼©</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>npm install imagemin<span class="token operator">-</span>gifsicle imagemin<span class="token operator">-</span>mozjpeg imagemin<span class="token operator">-</span>pngquant imagemin<span class="token operator">-</span>svgo <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é…ç½®</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> ImageMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;image-minimizer-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// çœç•¥...</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// å‹ç¼©å›¾ç‰‡</span>
      <span class="token keyword">new</span> <span class="token class-name">ImageMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">implementation</span><span class="token operator">:</span> ImageMinimizerPlugin<span class="token punctuation">.</span>imageminGenerate<span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
              <span class="token punctuation">[</span><span class="token string">&quot;gifsicle&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">interlaced</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token string">&quot;jpegtran&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">progressive</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span><span class="token string">&quot;optipng&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">optimizationLevel</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">[</span>
                <span class="token string">&quot;svgo&quot;</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                    <span class="token string">&quot;preset-default&quot;</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;prefixIds&quot;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;sortAttrs&quot;</span><span class="token punctuation">,</span>
                      <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">xmlnsOrder</span><span class="token operator">:</span> <span class="token string">&quot;alphabetical&quot;</span><span class="token punctuation">,</span>
                      <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                  <span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰“åŒ…æ—¶ä¼šå‡ºç°é—®é¢˜</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">Error</span><span class="token operator">:</span> Error <span class="token keyword">with</span> <span class="token string">&#39;src\images\1.jpeg&#39;</span><span class="token operator">:</span> <span class="token string">&#39;&quot;C:\Users\86176\Desktop\webpack\webpack_code\node_modules\jpegtran-bin\vendor\jpegtran.exe&quot;&#39;</span>
Error <span class="token keyword">with</span> <span class="token string">&#39;src\images\3.gif&#39;</span><span class="token operator">:</span> spawn <span class="token constant">C</span><span class="token operator">:</span>\Users\<span class="token number">86176</span>\Desktop\webpack\webpack_code\node_modules\optipng<span class="token operator">-</span>bin\vendor\optipng<span class="token punctuation">.</span>exe <span class="token constant">ENOENT</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¦å®‰è£…ä¸¤ä¸ªæ–‡ä»¶åˆ° node_modules ä¸­æ‰èƒ½è§£å†³,</p><blockquote><p>jpegtran.exe</p></blockquote><p>éœ€è¦å¤åˆ¶åˆ° <code>node_modules\jpegtran-bin\vendor</code> ä¸‹é¢</p><blockquote><p>optipng.exe</p></blockquote><p>éœ€è¦å¤åˆ¶åˆ° <code>node_modules\optipng-bin\vendor</code></p><h5 id="cssä»£ç å‹ç¼©" tabindex="-1"><a class="header-anchor" href="#cssä»£ç å‹ç¼©"><span>CSSä»£ç å‹ç¼©</span></a></h5><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>npm i css<span class="token operator">-</span>minimizer<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é…ç½®</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> CssMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;css-minimizer-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
<span class="token comment">// æ’ä»¶</span>
<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">ESLintWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// æŒ‡å®šæ£€æŸ¥æ–‡ä»¶çš„æ ¹ç›®å½•</span>
    <span class="token literal-property property">context</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../src&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// ä»¥ public/index.html ä¸ºæ¨¡æ¿åˆ›å»ºæ–‡ä»¶</span>
    <span class="token comment">// æ–°çš„htmlæ–‡ä»¶æœ‰ä¸¤ä¸ªç‰¹ç‚¹ï¼š1. å†…å®¹å’Œæºæ–‡ä»¶ä¸€è‡´ 2. è‡ªåŠ¨å¼•å…¥æ‰“åŒ…ç”Ÿæˆçš„jsç­‰èµ„æº</span>
    <span class="token literal-property property">template</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../public/index.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token string">&#39;head&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// æå–cssæˆå•ç‹¬æ–‡ä»¶</span>
  <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token comment">// å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;static/css/main.css&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// csså‹ç¼©</span>
  <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_15-4-ä¼˜åŒ–ä»£ç è¿è¡Œæ€§èƒ½" tabindex="-1"><a class="header-anchor" href="#_15-4-ä¼˜åŒ–ä»£ç è¿è¡Œæ€§èƒ½"><span>15.4 ä¼˜åŒ–ä»£ç è¿è¡Œæ€§èƒ½</span></a></h4><h5 id="code-split" tabindex="-1"><a class="header-anchor" href="#code-split"><span>Code Split</span></a></h5><p>**ç›®çš„ï¼š**æ‰“åŒ…ä»£ç æ—¶ä¼šå°†æ‰€æœ‰ js æ–‡ä»¶æ‰“åŒ…åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œä½“ç§¯å¤ªå¤§äº†ã€‚æˆ‘ä»¬å¦‚æœåªè¦æ¸²æŸ“é¦–é¡µï¼Œå°±åº”è¯¥åªåŠ è½½é¦–é¡µçš„ js æ–‡ä»¶ï¼Œå…¶ä»–æ–‡ä»¶ä¸åº”è¯¥åŠ è½½ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶è¿›è¡Œä»£ç åˆ†å‰²ï¼Œç”Ÿæˆå¤šä¸ª js æ–‡ä»¶ï¼Œæ¸²æŸ“å“ªä¸ªé¡µé¢å°±åªåŠ è½½æŸä¸ª js æ–‡ä»¶ï¼Œè¿™æ ·åŠ è½½çš„èµ„æºå°±å°‘ï¼Œé€Ÿåº¦å°±æ›´å¿«ã€‚</p><p>**ä½œç”¨ï¼š**ä»£ç åˆ†å‰²ï¼ˆCode Splitï¼‰ä¸»è¦åšäº†ä¸¤ä»¶äº‹ï¼š</p><ol><li>åˆ†å‰²æ–‡ä»¶ï¼šå°†æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶è¿›è¡Œåˆ†å‰²ï¼Œç”Ÿæˆå¤šä¸ª js æ–‡ä»¶ã€‚</li><li>æŒ‰éœ€åŠ è½½ï¼šéœ€è¦å“ªä¸ªæ–‡ä»¶å°±åŠ è½½å“ªä¸ªæ–‡ä»¶ã€‚</li></ol><p><strong>ä»£ç åˆ†å‰²çš„æ–¹æ³•ï¼š</strong></p><p><strong>1.å¤šå…¥å£</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// å•å…¥å£</span>
  <span class="token comment">// entry: &#39;./src/main.js&#39;,</span>
  <span class="token comment">// å¤šå…¥å£</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&quot;./src/main.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">app</span><span class="token operator">:</span> <span class="token string">&quot;./src/app.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// [name]æ˜¯webpackå‘½åè§„åˆ™ï¼Œä½¿ç”¨chunkçš„nameä½œä¸ºè¾“å‡ºçš„æ–‡ä»¶åã€‚</span>
    <span class="token comment">// ä»€ä¹ˆæ˜¯chunkï¼Ÿæ‰“åŒ…çš„èµ„æºå°±æ˜¯chunkï¼Œè¾“å‡ºå‡ºå»å«bundleã€‚</span>
    <span class="token comment">// chunkçš„nameæ˜¯å•¥å‘¢ï¼Ÿ æ¯”å¦‚ï¼š entryä¸­xxx: &quot;./src/xxx.js&quot;, nameå°±æ˜¯xxxã€‚æ³¨æ„æ˜¯å‰é¢çš„xxxï¼Œå’Œæ–‡ä»¶åæ— å…³ã€‚</span>
    <span class="token comment">// ä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·å‘½åå‘¢ï¼Ÿå¦‚æœè¿˜æ˜¯ä¹‹å‰å†™æ³•main.jsï¼Œé‚£ä¹ˆæ‰“åŒ…ç”Ÿæˆä¸¤ä¸ªjsæ–‡ä»¶éƒ½ä¼šå«åšmain.jsä¼šå‘ç”Ÿè¦†ç›–ã€‚(å®é™…ä¸Šä¼šç›´æ¥æŠ¥é”™çš„)</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;js/[name].js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">clear</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;./public/index.html&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®äº†å¤šå°‘ä¸ªå…¥å£ï¼Œè‡³å°‘è¾“å‡ºå¤šå°‘ä¸ªjsæ–‡ä»¶</p><p>ç¼ºç‚¹ï¼šå½“å¤šä¸ªå…¥å£æ–‡ä»¶æœ‰å…±äº«çš„ä»£ç ï¼Œè¿™äº›å…±äº«çš„ä»£ç åˆ™ä¼šè¢«é‡å¤æ‰“åŒ…ã€‚</p><p><strong>2.æå–å…¬å…±ä»£ç </strong></p><p>å¦‚æœå¤šå…¥å£æ–‡ä»¶ä¸­éƒ½å¼•ç”¨äº†åŒä¸€ä»½ä»£ç ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›è¿™ä»½ä»£ç è¢«æ‰“åŒ…åˆ°ä¸¤ä¸ªæ–‡ä»¶ä¸­ï¼Œå¯¼è‡´ä»£ç é‡å¤ï¼Œä½“ç§¯æ›´å¤§ã€‚æˆ‘ä»¬éœ€è¦æå–å¤šå…¥å£çš„é‡å¤ä»£ç ï¼Œåªæ‰“åŒ…ç”Ÿæˆä¸€ä¸ª js æ–‡ä»¶ï¼Œå…¶ä»–æ–‡ä»¶å¼•ç”¨å®ƒå°±å¥½ã€‚</p><p>webpackè¿˜æä¾›äº†ä¸€ä¸ªå†…ç½®çš„æ’ä»¶ï¼Œå¸®åŠ©æˆ‘ä»¬æŠŠè¿™äº›å…¬å…±çš„æ¨¡å—æŠ½ç¦»å‡ºæ¥</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code> <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&quot;./src/main.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">app</span><span class="token operator">:</span> <span class="token string">&quot;./src/app.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name]_bundle.js&quot;</span><span class="token punctuation">,</span> 
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
     <span class="token comment">// ä»£ç åˆ†å‰²é…ç½®</span>
    <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å¯¹æ‰€æœ‰æ¨¡å—éƒ½è¿›è¡Œåˆ†å‰²</span>
      <span class="token comment">// ä»¥ä¸‹æ˜¯é»˜è®¤å€¼</span>
      <span class="token comment">// minSize: 20000, // åˆ†å‰²ä»£ç æœ€å°çš„å¤§å°</span>
      <span class="token comment">// minRemainingSize: 0, // ç±»ä¼¼äºminSizeï¼Œæœ€åç¡®ä¿æå–çš„æ–‡ä»¶å¤§å°ä¸èƒ½ä¸º0</span>
      <span class="token comment">// minChunks: 1, // è‡³å°‘è¢«å¼•ç”¨çš„æ¬¡æ•°ï¼Œæ»¡è¶³æ¡ä»¶æ‰ä¼šä»£ç åˆ†å‰²</span>
      <span class="token comment">// maxAsyncRequests: 30, // æŒ‰éœ€åŠ è½½æ—¶å¹¶è¡ŒåŠ è½½çš„æ–‡ä»¶çš„æœ€å¤§æ•°é‡</span>
      <span class="token comment">// maxInitialRequests: 30, // å…¥å£jsæ–‡ä»¶æœ€å¤§å¹¶è¡Œè¯·æ±‚æ•°é‡</span>
      <span class="token comment">// enforceSizeThreshold: 50000, // è¶…è¿‡50kbä¸€å®šä¼šå•ç‹¬æ‰“åŒ…ï¼ˆæ­¤æ—¶ä¼šå¿½ç•¥minRemainingSizeã€maxAsyncRequestsã€maxInitialRequestsï¼‰</span>
      <span class="token comment">// cacheGroups: { // ç»„ï¼Œå“ªäº›æ¨¡å—è¦æ‰“åŒ…åˆ°ä¸€ä¸ªç»„</span>
      <span class="token comment">//   defaultVendors: { // ç»„å</span>
      <span class="token comment">//     test: /[\\/]node_modules[\\/]/, // éœ€è¦æ‰“åŒ…åˆ°ä¸€èµ·çš„æ¨¡å—</span>
      <span class="token comment">//     priority: -10, // æƒé‡ï¼ˆè¶Šå¤§è¶Šé«˜ï¼‰</span>
      <span class="token comment">//     reuseExistingChunk: true, // å¦‚æœå½“å‰ chunk åŒ…å«å·²ä»ä¸» bundle ä¸­æ‹†åˆ†å‡ºçš„æ¨¡å—ï¼Œåˆ™å®ƒå°†è¢«é‡ç”¨ï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°çš„æ¨¡å—</span>
      <span class="token comment">//   },</span>
      <span class="token comment">//   default: { // å…¶ä»–æ²¡æœ‰å†™çš„é…ç½®ä¼šä½¿ç”¨ä¸Šé¢çš„é»˜è®¤å€¼</span>
      <span class="token comment">//     minChunks: 2, // è¿™é‡Œçš„minChunksæƒé‡æ›´å¤§</span>
      <span class="token comment">//     priority: -20,</span>
      <span class="token comment">//     reuseExistingChunk: true,</span>
      <span class="token comment">//   },</span>
      <span class="token comment">// },</span>
      <span class="token comment">// ä¿®æ”¹é…ç½®</span>
      <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// ç»„ï¼Œå“ªäº›æ¨¡å—è¦æ‰“åŒ…åˆ°ä¸€ä¸ªç»„</span>
        <span class="token comment">// defaultVendors: { // ç»„å</span>
        <span class="token comment">//   test: /[\\/]node_modules[\\/]/, // éœ€è¦æ‰“åŒ…åˆ°ä¸€èµ·çš„æ¨¡å—</span>
        <span class="token comment">//   priority: -10, // æƒé‡ï¼ˆè¶Šå¤§è¶Šé«˜ï¼‰</span>
        <span class="token comment">//   reuseExistingChunk: true, // å¦‚æœå½“å‰ chunk åŒ…å«å·²ä»ä¸» bundle ä¸­æ‹†åˆ†å‡ºçš„æ¨¡å—ï¼Œåˆ™å®ƒå°†è¢«é‡ç”¨ï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°çš„æ¨¡å—</span>
        <span class="token comment">// },</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// å…¶ä»–æ²¡æœ‰å†™çš„é…ç½®ä¼šä½¿ç”¨ä¸Šé¢çš„é»˜è®¤å€¼</span>
          <span class="token literal-property property">minSize</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// æˆ‘ä»¬å®šä¹‰çš„æ–‡ä»¶ä½“ç§¯å¤ªå°äº†ï¼Œæ‰€ä»¥è¦æ”¹æ‰“åŒ…çš„æœ€å°æ–‡ä»¶ä½“ç§¯</span>
          <span class="token literal-property property">minChunks</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
          <span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span>
          <span class="token literal-property property">reuseExistingChunk</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>3. æŒ‰éœ€åŠ è½½ï¼ŒåŠ¨æ€å¯¼å…¥</strong></p><p>æƒ³è¦å®ç°æŒ‰éœ€åŠ è½½ï¼ŒåŠ¨æ€å¯¼å…¥æ¨¡å—ã€‚è¿˜éœ€è¦é¢å¤–é…ç½®</p><h5 id="preload-prefetch" tabindex="-1"><a class="header-anchor" href="#preload-prefetch"><span>Preload / Prefetch</span></a></h5><p>**ç›®çš„ï¼š**å½“æˆ‘ä»¬ä½¿ç”¨æ‡’åŠ è½½çš„èµ„æºè¿‡å¤§ï¼Œä¼šé€ æˆå¡é¡¿ï¼Œæˆ‘ä»¬æƒ³åœ¨æµè§ˆå™¨ç©ºé—²æ—¶é—´ï¼ŒåŠ è½½åç»­éœ€è¦ä½¿ç”¨çš„èµ„æºã€‚æˆ‘ä»¬å°±éœ€è¦ç”¨ä¸Š <code>Preload</code> æˆ– <code>Prefetch</code> æŠ€æœ¯ã€‚</p><p><strong>ä½œç”¨ï¼š</strong></p><ul><li><code>Preload</code>ï¼šå‘Šè¯‰æµè§ˆå™¨ç«‹å³åŠ è½½èµ„æºã€‚</li><li><code>Prefetch</code>ï¼šå‘Šè¯‰æµè§ˆå™¨åœ¨ç©ºé—²æ—¶æ‰å¼€å§‹åŠ è½½èµ„æºã€‚</li></ul><p><strong>åŒºåˆ«ï¼š</strong></p><p>ç›¸åŒç‚¹ï¼š</p><ul><li>éƒ½åªä¼šåŠ è½½èµ„æºï¼Œå¹¶ä¸æ‰§è¡Œï¼Œéƒ½æœ‰ç¼“å­˜ã€‚</li></ul><p>ä¸åŒç‚¹ï¼š</p><ul><li><code>Preload</code>åŠ è½½ä¼˜å…ˆçº§é«˜ï¼Œ<code>Prefetch</code>åŠ è½½ä¼˜å…ˆçº§ä½ã€‚</li><li><code>Preload</code>åªèƒ½åŠ è½½å½“å‰é¡µé¢éœ€è¦ä½¿ç”¨çš„èµ„æºï¼Œ<code>Prefetch</code>å¯ä»¥åŠ è½½å½“å‰é¡µé¢èµ„æºï¼Œä¹Ÿå¯ä»¥åŠ è½½ä¸‹ä¸€ä¸ªé¡µé¢éœ€è¦ä½¿ç”¨çš„èµ„æºã€‚</li></ul><p><strong>ä½¿ç”¨ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>npm i @vue<span class="token operator">/</span>preload<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é…ç½®</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">PreloadWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">rel</span><span class="token operator">:</span> <span class="token string">&quot;preload&quot;</span><span class="token punctuation">,</span> <span class="token comment">// preloadå…¼å®¹æ€§æ›´å¥½</span>
      <span class="token keyword">as</span><span class="token operator">:</span> <span class="token string">&quot;script&quot;</span><span class="token punctuation">,</span>
      <span class="token comment">// rel: &#39;prefetch&#39; // prefetchå…¼å®¹æ€§æ›´å·®</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="networkcache" tabindex="-1"><a class="header-anchor" href="#networkcache"><span>NetworkCache</span></a></h5><p>**ç›®çš„ï¼š**å°†æ¥å¼€å‘æ—¶æˆ‘ä»¬å¯¹é™æ€èµ„æºä¼šä½¿ç”¨ç¼“å­˜æ¥ä¼˜åŒ–ï¼Œè¿™æ ·æµè§ˆå™¨ç¬¬äºŒæ¬¡è¯·æ±‚èµ„æºå°±èƒ½è¯»å–ç¼“å­˜äº†ï¼Œé€Ÿåº¦å¾ˆå¿«ã€‚</p><p>ä½†æ˜¯è¿™æ ·çš„è¯å°±ä¼šæœ‰ä¸€ä¸ªé—®é¢˜, å› ä¸ºå‰åè¾“å‡ºçš„æ–‡ä»¶åæ˜¯ä¸€æ ·çš„ï¼Œéƒ½å« main.jsï¼Œä¸€æ—¦å°†æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œå› ä¸ºæ–‡ä»¶åæ²¡æœ‰å˜åŒ–å¯¼è‡´æµè§ˆå™¨ä¼šç›´æ¥è¯»å–ç¼“å­˜ï¼Œä¸ä¼šåŠ è½½æ–°èµ„æºï¼Œé¡¹ç›®ä¹Ÿå°±æ²¡æ³•æ›´æ–°äº†ã€‚æ‰€ä»¥æˆ‘ä»¬ä»æ–‡ä»¶åå…¥æ‰‹ï¼Œç¡®ä¿æ›´æ–°å‰åæ–‡ä»¶åä¸ä¸€æ ·ï¼Œè¿™æ ·å°±å¯ä»¥åšç¼“å­˜äº†ã€‚</p><p><strong>ä½œç”¨ï¼š</strong></p><p>å®ƒä»¬éƒ½ä¼šç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„ hash å€¼ã€‚</p><ul><li>fullhashï¼ˆwebpack4 æ˜¯ hashï¼‰ æ¯æ¬¡ä¿®æ”¹ä»»ä½•ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€æœ‰æ–‡ä»¶åçš„ hash è‡³éƒ½å°†æ”¹å˜ã€‚æ‰€ä»¥ä¸€æ—¦ä¿®æ”¹äº†ä»»ä½•ä¸€ä¸ªæ–‡ä»¶ï¼Œæ•´ä¸ªé¡¹ç›®çš„æ–‡ä»¶ç¼“å­˜éƒ½å°†å¤±æ•ˆã€‚</li><li>chunkhash æ ¹æ®ä¸åŒçš„å…¥å£æ–‡ä»¶(Entry)è¿›è¡Œä¾èµ–æ–‡ä»¶è§£æã€æ„å»ºå¯¹åº”çš„ chunkï¼Œç”Ÿæˆå¯¹åº”çš„å“ˆå¸Œå€¼ã€‚æˆ‘ä»¬ js å’Œ css æ˜¯åŒä¸€ä¸ªå¼•å…¥ï¼Œä¼šå…±äº«ä¸€ä¸ª hash å€¼ã€‚</li><li>contenthash æ ¹æ®æ–‡ä»¶å†…å®¹ç”Ÿæˆ hash å€¼ï¼Œåªæœ‰æ–‡ä»¶å†…å®¹å˜åŒ–äº†ï¼Œhash å€¼æ‰ä¼šå˜åŒ–ã€‚æ‰€æœ‰æ–‡ä»¶ hash å€¼æ˜¯ç‹¬äº«ä¸”ä¸åŒçš„</li></ul><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code> <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;../dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// ç”Ÿäº§æ¨¡å¼éœ€è¦è¾“å‡º</span>
    <span class="token comment">// [contenthash:8]ä½¿ç”¨contenthashï¼Œå–8ä½é•¿åº¦</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;static/js/[name].[contenthash:8].js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// å…¥å£æ–‡ä»¶æ‰“åŒ…è¾“å‡ºèµ„æºå‘½åæ–¹å¼</span>
    <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">&quot;static/js/[name].[contenthash:8].chunk.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// åŠ¨æ€å¯¼å…¥è¾“å‡ºèµ„æºå‘½åæ–¹å¼</span>
    <span class="token literal-property property">clean</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// å®šä¹‰è¾“å‡ºæ–‡ä»¶åå’Œç›®å½•</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;static/css/[name].[contenthash:8].css&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">&quot;static/css/[name].[contenthash:8].chunk.css&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å‡ºç°çš„é—®é¢˜ï¼š</strong></p><p>å½“æˆ‘ä»¬ä¿®æ”¹ math.js æ–‡ä»¶å†é‡æ–°æ‰“åŒ…çš„æ—¶å€™ï¼Œå› ä¸º contenthash åŸå› ï¼Œmath.js æ–‡ä»¶ hash å€¼å‘ç”Ÿäº†å˜åŒ–ï¼ˆè¿™æ˜¯æ­£å¸¸çš„ï¼‰ã€‚</p><p>ä½†æ˜¯ main.js æ–‡ä»¶çš„ hash å€¼ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ï¼Œè¿™ä¼šå¯¼è‡´ main.js çš„ç¼“å­˜å¤±æ•ˆã€‚æ˜æ˜æˆ‘ä»¬åªä¿®æ”¹ math.js, ä¸ºä»€ä¹ˆ main.js ä¹Ÿä¼šå˜èº«å˜åŒ–å‘¢ï¼Ÿ</p><p>åŸå› ï¼š</p><ul><li>æ›´æ–°å‰ï¼šmath.xxx.js, main.js å¼•ç”¨çš„ math.xxx.js</li><li>æ›´æ–°åï¼šmath.yyy.js, main.js å¼•ç”¨çš„ math.yyy.js, æ–‡ä»¶åå‘ç”Ÿäº†å˜åŒ–ï¼Œé—´æ¥å¯¼è‡´ main.js ä¹Ÿå‘ç”Ÿäº†å˜åŒ–</li></ul><p>è§£å†³ï¼š</p><p>å°† hash å€¼å•ç‹¬ä¿ç®¡åœ¨ä¸€ä¸ª runtime æ–‡ä»¶ä¸­ã€‚</p><p>æˆ‘ä»¬æœ€ç»ˆè¾“å‡ºä¸‰ä¸ªæ–‡ä»¶ï¼šmainã€mathã€runtimeã€‚å½“ math æ–‡ä»¶å‘é€å˜åŒ–ï¼Œå˜åŒ–çš„æ˜¯ math å’Œ runtime æ–‡ä»¶ï¼Œmain ä¸å˜ã€‚</p><p>runtime æ–‡ä»¶åªä¿å­˜æ–‡ä»¶çš„ hash å€¼å’Œå®ƒä»¬ä¸æ–‡ä»¶å…³ç³»ï¼Œæ•´ä¸ªæ–‡ä»¶ä½“ç§¯å°±æ¯”è¾ƒå°ï¼Œæ‰€ä»¥å˜åŒ–é‡æ–°è¯·æ±‚çš„ä»£ä»·ä¹Ÿå°ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// æå–runtimeæ–‡ä»¶</span>
    <span class="token literal-property property">runtimeChunk</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">name</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">entrypoint</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">runtime~</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>entrypoint<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span> <span class="token comment">// runtimeæ–‡ä»¶å‘½åè§„åˆ™</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="pwa" tabindex="-1"><a class="header-anchor" href="#pwa"><span>PWA</span></a></h5><p>**ç›®çš„ï¼š**å¼€å‘ Web App é¡¹ç›®ï¼Œé¡¹ç›®ä¸€æ—¦å¤„äºç½‘ç»œç¦»çº¿æƒ…å†µï¼Œå°±æ²¡æ³•è®¿é—®äº†ã€‚æˆ‘ä»¬å¸Œæœ›ç»™é¡¹ç›®æä¾›ç¦»çº¿ä½“éªŒã€‚</p><p>**ä½œç”¨ï¼š**æ¸è¿›å¼ç½‘ç»œåº”ç”¨ç¨‹åº(progressive web application - PWA)ï¼šæ˜¯ä¸€ç§å¯ä»¥æä¾›ç±»ä¼¼äº native app(åŸç”Ÿåº”ç”¨ç¨‹åº) ä½“éªŒçš„ Web App çš„æŠ€æœ¯ã€‚å…¶ä¸­æœ€é‡è¦çš„æ˜¯ï¼Œåœ¨ <strong>ç¦»çº¿</strong>(offline) æ—¶åº”ç”¨ç¨‹åºèƒ½å¤Ÿç»§ç»­è¿è¡ŒåŠŸèƒ½ã€‚å†…éƒ¨é€šè¿‡ <code>Service Workers</code> æŠ€æœ¯å®ç°çš„ã€‚</p><p><strong>ä½¿ç”¨ï¼š</strong></p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code>npm i workbox<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é…ç½®</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">const</span> WorkboxPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;workbox-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">new</span> <span class="token class-name">WorkboxPlugin<span class="token punctuation">.</span>GenerateSW</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token comment">// è¿™äº›é€‰é¡¹å¸®åŠ©å¿«é€Ÿå¯ç”¨ ServiceWorkers</span>
      <span class="token comment">// ä¸å…è®¸é—ç•™ä»»ä½•â€œæ—§çš„â€ ServiceWorkers</span>
      <span class="token literal-property property">clientsClaim</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">skipWaiting</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿®æ”¹main.js</p><div class="language-javascript line-numbers-mode" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;serviceWorker&quot;</span> <span class="token keyword">in</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    navigator<span class="token punctuation">.</span>serviceWorker
      <span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">&quot;/service-worker.js&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">registration</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;SW registered: &quot;</span><span class="token punctuation">,</span> registration<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">registrationError</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;SW registration failed: &quot;</span><span class="token punctuation">,</span> registrationError<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_15-5æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_15-5æ€»ç»“"><span>15.5æ€»ç»“</span></a></h4><p>å¯ä»¥åœ¨optimizationé…ç½®ä¸­è®¾ç½®çš„ä¼˜åŒ–ç­–ç•¥,ä¸»è¦é…ç½®ä»¥ä¸‹å››ä¸ªå±æ€§</p><ul><li>minimizer</li><li>runtimeChunk</li><li>noEmitOnErrors</li><li>splitChunks</li></ul><p><strong>æå‡å¼€å‘ä½“éªŒ</strong></p><ol><li>ä½¿ç”¨ <code>Source Map</code> è®©å¼€å‘æˆ–ä¸Šçº¿æ—¶ä»£ç æŠ¥é”™èƒ½æœ‰æ›´åŠ å‡†ç¡®çš„é”™è¯¯æç¤º</li></ol><p><strong>æå‡ webpack æå‡æ‰“åŒ…æ„å»ºé€Ÿåº¦</strong></p><ol><li>ä½¿ç”¨<code>HotModuleReplacement</code>è®©å¼€å‘æ—¶åªé‡æ–°ç¼–è¯‘æ‰“åŒ…æ›´æ–°å˜åŒ–äº†çš„ä»£ç ï¼Œä¸å˜çš„ä»£ç ä½¿ç”¨ç¼“å­˜ï¼Œä»è€Œä½¿æ›´æ–°é€Ÿåº¦æ›´å¿«ã€‚</li><li>ä½¿ç”¨ <code>OneOf</code> è®©èµ„æºæ–‡ä»¶ä¸€æ—¦è¢«æŸä¸ª loader å¤„ç†äº†ï¼Œå°±ä¸ä¼šç»§ç»­éå†äº†ï¼Œæ‰“åŒ…é€Ÿåº¦æ›´å¿«ã€‚</li><li>ä½¿ç”¨ <code>Include/Exclude</code> æ’é™¤æˆ–åªæ£€æµ‹æŸäº›æ–‡ä»¶ï¼Œå¤„ç†çš„æ–‡ä»¶æ›´å°‘ï¼Œé€Ÿåº¦æ›´å¿«ã€‚</li><li>ä½¿ç”¨ <code>Cache</code> å¯¹ <code>eslint</code> å’Œ <code>babel</code> å¤„ç†çš„ç»“æœè¿›è¡Œç¼“å­˜ï¼Œè®©ç¬¬äºŒæ¬¡æ‰“åŒ…é€Ÿåº¦æ›´å¿«ã€‚</li><li>ä½¿ç”¨ <code>Thead</code> å¤šè¿›ç¨‹å¤„ç† <code>eslint</code> å’Œ <code>babel</code> ä»»åŠ¡ï¼Œé€Ÿåº¦æ›´å¿«ã€‚ï¼ˆéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿›ç¨‹å¯åŠ¨é€šä¿¡éƒ½æœ‰å¼€é”€çš„ï¼Œè¦åœ¨æ¯”è¾ƒå¤šä»£ç å¤„ç†æ—¶ä½¿ç”¨æ‰æœ‰æ•ˆæœï¼‰</li></ol><p><strong>å‡å°‘ä»£ç ä½“ç§¯</strong></p><ol><li>ä½¿ç”¨ T<code>ree Shaking</code> å‰”é™¤äº†æ²¡æœ‰ä½¿ç”¨çš„å¤šä½™ä»£ç ï¼Œè®©ä»£ç ä½“ç§¯æ›´å°ã€‚</li><li>ä½¿ç”¨ <code>@babel/plugin-transform-runtime</code> æ’ä»¶å¯¹ <code>babel</code> è¿›è¡Œå¤„ç†ï¼Œè®©è¾…åŠ©ä»£ç ä»ä¸­å¼•å…¥ï¼Œè€Œä¸æ˜¯æ¯ä¸ªæ–‡ä»¶éƒ½ç”Ÿæˆè¾…åŠ©ä»£ç ï¼Œä»è€Œä½“ç§¯æ›´å°ã€‚</li><li>ä½¿ç”¨ <code>Image Minimizer</code> å¯¹é¡¹ç›®ä¸­å›¾ç‰‡è¿›è¡Œå‹ç¼©ï¼Œä½“ç§¯æ›´å°ï¼Œè¯·æ±‚é€Ÿåº¦æ›´å¿«ã€‚ï¼ˆéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœé¡¹ç›®ä¸­å›¾ç‰‡éƒ½æ˜¯åœ¨çº¿é“¾æ¥ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦äº†ã€‚æœ¬åœ°é¡¹ç›®é™æ€å›¾ç‰‡æ‰éœ€è¦è¿›è¡Œå‹ç¼©ã€‚ï¼‰</li></ol><p><strong>ä¼˜åŒ–ä»£ç è¿è¡Œæ€§èƒ½</strong></p><ol><li>ä½¿ç”¨ <code>Code Split</code> å¯¹ä»£ç è¿›è¡Œåˆ†å‰²æˆå¤šä¸ª js æ–‡ä»¶ï¼Œä»è€Œä½¿å•ä¸ªæ–‡ä»¶ä½“ç§¯æ›´å°ï¼Œå¹¶è¡ŒåŠ è½½ js é€Ÿåº¦æ›´å¿«ã€‚å¹¶é€šè¿‡ import åŠ¨æ€å¯¼å…¥è¯­æ³•è¿›è¡ŒæŒ‰éœ€åŠ è½½ï¼Œä»è€Œè¾¾åˆ°éœ€è¦ä½¿ç”¨æ—¶æ‰åŠ è½½è¯¥èµ„æºï¼Œä¸ç”¨æ—¶ä¸åŠ è½½èµ„æºã€‚</li><li>ä½¿ç”¨ <code>Preload / Prefetch</code> å¯¹ä»£ç è¿›è¡Œæå‰åŠ è½½ï¼Œç­‰æœªæ¥éœ€è¦ä½¿ç”¨æ—¶å°±èƒ½ç›´æ¥ä½¿ç”¨ï¼Œä»è€Œç”¨æˆ·ä½“éªŒæ›´å¥½ã€‚</li><li>ä½¿ç”¨ <code>Network Cache</code> èƒ½å¯¹è¾“å‡ºèµ„æºæ–‡ä»¶è¿›è¡Œæ›´å¥½çš„å‘½åï¼Œå°†æ¥å¥½åšç¼“å­˜ï¼Œä»è€Œç”¨æˆ·ä½“éªŒæ›´å¥½ã€‚</li><li>ä½¿ç”¨ <code>Core-js</code> å¯¹ js è¿›è¡Œå…¼å®¹æ€§å¤„ç†ï¼Œè®©æˆ‘ä»¬ä»£ç èƒ½è¿è¡Œåœ¨ä½ç‰ˆæœ¬æµè§ˆå™¨ã€‚</li><li>ä½¿ç”¨ <code>PWA</code> èƒ½è®©ä»£ç ç¦»çº¿ä¹Ÿèƒ½è®¿é—®ï¼Œä»è€Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li></ol><h4 id="" tabindex="-1"><a class="header-anchor" href="#"><span></span></a></h4></div><!--[--><!----><!--]--><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/src/æ„å»ºå·¥å…·/æ•™ç¨‹/webpack.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><!----><a class="route-link nav-link next" href="/Blog/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/%E6%95%99%E7%A8%8B/git.html" aria-label="Git"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">Git<!----></div></a></nav><div id="vp-comment" class="giscus-wrapper input-top" style="display:block;"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" preserveAspectRatio="xMidYMid" viewBox="0 0 100 100"><circle cx="28" cy="75" r="11" fill="currentColor"><animate attributeName="fill-opacity" begin="0s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></circle><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 47a28 28 0 0 1 28 28"><animate attributeName="stroke-opacity" begin="0.1s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path><path fill="none" stroke="#88baf0" stroke-width="10" d="M28 25a50 50 0 0 1 50 50"><animate attributeName="stroke-opacity" begin="0.2s" dur="1s" keyTimes="0;0.2;1" repeatCount="indefinite" values="0;1;1"></animate></path></svg></div><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">é»˜è®¤é¡µè„š</div><div class="vp-copyright">Copyright Â© 2024 å–åèŠ±å…‰é’± </div></footer></div><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/Blog/assets/app-otQn-0y1.js" defer></script>
  </body>
</html>
